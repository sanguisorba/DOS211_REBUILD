Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Page     1-1
                                                            

       1                                TITLE   COMMAND Initialization 
       2                                 
       3                             C          INCLUDE COMSW.ASM 
       4                             C  ; Use the following booleans to set ass
					embly flags 
       5 = 0000                      C  FALSE   EQU     0 
       6 = FFFF                      C  TRUE    EQU     NOT FALSE 
       7                             C   
       8 =                           C  IBMVER  EQU     false  ; Switch to buil
					d IBM version of Command 
       9 =                           C  IBM     EQU     IBMVER 
      10 =                           C  MSVER   EQU     true   ; Switch to buil
					d MS-DOS version of Command 
      11                             C   
      12 =                           C  HIGHMEM EQU     FALSE   ; Run resident 
					part above transient (high memory) 
      13 =                           C  KANJI   EQU     false   ; Support for d
					ual byte Microsoft KANJI standard 
      14 =                              IBMJAPAN        EQU     FALSE   ;MUST B
					E TRUE (along with IBM and KANJI) 
      15                                 
      16                                .list 
      17                                .cref 
      18                                 
      19                             C          INCLUDE COMEQU.ASM 
      20                             C  ;************************************* 
      21                             C  ; COMMAND EQUs which are not switch dep
					endant 
      22                             C   
      23                             C  IFDEF   IBM 
      24                             C          INCLUDE IFEQU.ASM 
      25                             C  ;************************************* 
      26                             C  ; COMMAND EQUs which are switch dependa
					nt 
      27                             C   
      28                             C  ENDIF 
      29                             C   
      30                             C  ENDIF 
      31                             C   
      32                             C   
      33 = 003E                      C  SYM     EQU     ">" 
      34                             C   
      35 = 0017                      C  LINPERPAG       EQU     23 
      36 = 0001                      C  NORMPERLIN      EQU     1 
      37 = 0005                      C  WIDEPERLIN      EQU     5 
      38 = 0080                      C  COMBUFLEN       EQU     128     ; Lengt
					h of commmand buffer 
      39                             C   
      40 = 003A                      C  DRVCHAR         EQU     ":" 
      41                             C   
      42 = 005C                      C  FCB     EQU     5CH 
      43                             C   
      44                             C  VARSTRUC        STRUC 
      45 0000  ??                    C  ISDIR   DB      ? 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Page     1-2
DEVICE TABLE AND SRH DEFINITION                             

      46 0001  ??                    C  SIZ     DB      ? 
      47 0002  ????                  C  TTAIL   DW      ? 
      48 0004  ??                    C  INFO    DB      ? 
      49 0005  0054[                 C  BUF     DB      DIRSTRLEN + 20 DUP (?) 
      50            ??               C  
      51                         ]   C  
      52                             C  
      53 0059                        C  VARSTRUC        ENDS 
      54                             C   
      55 = 0001                      C  WSWITCH EQU     1               ; Wide 
					display during DIR 
      56 = 0002                      C  PSWITCH EQU     2               ; Pause
					 (or Page) mode during DIR 
      57 = 0004                      C  ASWITCH EQU     4               ; ASCII
					 mode during COPY 
      58 = 0008                      C  BSWITCH EQU     8               ; Binar
					y mode during COPY 
      59 = 0010                      C  VSWITCH EQU     10H             ; Verif
					y switch 
      60 = 8000                      C  GOTSWITCH EQU   8000H           ; Meta 
					switch set if switch character encounte
					red 
      61                                 
      62                                 
      63 = 00A0                         ENVIRONSIZ EQU  0A0H            ;Must a
					gree with values in EVIRONMENT segment 
      64 = 0092                         ENVIRONSIZ2 EQU 092H 
      65                                 
      66 0000                           CODERES SEGMENT PUBLIC 
      67                                        EXTRN   RSTACK:WORD,SETVECT:NEA
					R,LODCOM:NEAR,CONTC:NEAR,INT_2E:NEAR 
      68                                        EXTRN   LOADCOM:NEAR,CHKSUM:NEA
					R 
      69                                 
      70                                        ENDIF 
      71                                 
      72 0000                           CODERES ENDS 
      73                                 
      74 0000                           DATARES SEGMENT PUBLIC 
      75                                        EXTRN   DATARESEND:BYTE,LTPA:WO
					RD,MYSEG:WORD,MYSEG1:WORD,MYSEG2:WORD 
      76                                        EXTRN   MEMSIZ:WORD,TRNSEG:WORD
					,ENVIRSEG:WORD,RSWITCHAR:BYTE 
      77                                        EXTRN   COMDRV:BYTE,COMLET:BYTE
					,PERMCOM:BYTE,SINGLECOM:WORD 
      78                                        EXTRN   PARENT:WORD,IO_SAVE:WOR
					D,COM_PTR:DWORD,COM_FCB1:DWORD 
      79                                        EXTRN   COM_FCB2:DWORD,SUM:WORD
					,BATCH:WORD,COMSPEC:BYTE 
      80                                 
      81                                        ENDIF 
      82                                 
      83 0000                           DATARES ENDS 
      84                                 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Page     1-3
DEVICE TABLE AND SRH DEFINITION                             

      85 0000                           ENVIRONMENT SEGMENT PUBLIC 
      86                                        EXTRN   ENVIREND:BYTE,PATHSTRIN
					G:BYTE,ECOMSPEC:BYTE 
      87 0000                           ENVIRONMENT ENDS 
      88                                 
      89 0000                           TRANCODE        SEGMENT PUBLIC 
      90                                        EXTRN   DATINIT:FAR 
      91 0000                           TRANCODE        ENDS 
      92                                 
      93 0000                           TRANSPACE       SEGMENT PUBLIC 
      94                                        EXTRN   TRANSPACEEND:BYTE 
      95 0000                           TRANSPACE       ENDS 
      96                                 
      97 0000                           ZEXEC_DATA      SEGMENT PUBLIC 
      98                                        ENDIF 
      99 0000                           ZEXEC_DATA      ENDS 
     100                                 
     101                                ; *************************************
					****************************** 
     102                                ; START OF INIT PORTION 
     103                                ; This code is overlayed the first time
					 the TPA is used. 
     104                                 
     105 0000                           INIT    SEGMENT PUBLIC PARA 
     106                                 
     107                                        EXTRN   HEADER:BYTE 
     108                                        EXTRN   BADCOMLKMES:BYTE 
     109                                 
     110                                        PUBLIC  CONPROC 
     111                                 
     112                                ASSUME  CS:RESGROUP,DS:RESGROUP,ES:RESG
					ROUP,SS:RESGROUP 
     113                                 
     114 0000                                   ORG     0 
     115 = 0000                         ZERO    =       $ 
     116                                 
     117 0000                           CONPROC: 
     118 0000  BC 0000 E                        MOV     SP,OFFSET RESGROUP:RSTA
					CK 
     119                                 
     120                                        ENDIF 
     121                                 
     122                                        IF      NOT HIGHMEM 
     123 0003  B8 000F E                        MOV     AX,OFFSET RESGROUP:ENVI
					REND + 15 
     124 0006  B1 04                            MOV     CL,4 
     125 0008  D3 E8                            SHR     AX,CL 
     126 000A  8C C9                            MOV     CX,CS 
     127 000C  03 C1                            ADD     AX,CX                  
					       ; Compute segment of TPA 
     128 000E  A3 0000 E                        MOV     [LTPA],AX              
					       ; Good enough for the moment 
     129 0011  A1 0002                          MOV     AX,WORD PTR DS:[PDB_blo
					ck_len] 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Page     1-4
DEVICE TABLE AND SRH DEFINITION                             

     130                                        ENDIF 
     131                                 
     132 0014  8C 1E 0000 E                     MOV     [MYSEG1],DS 
     133 0018  8C 1E 0000 E                     MOV     [MYSEG2],DS 
     134 001C  8C 1E 0000 E                     MOV     [MYSEG],DS 
     135 0020  A3 0000 E                        MOV     [MEMSIZ],AX 
     136                                 
     137 0023  BA 000F E                        MOV     DX,OFFSET TRANGROUP:TRA
					NSPACEEND + 15 
     138 0026  B1 04                            MOV     CL,4 
     139 0028  D3 EA                            SHR     DX,CL 
     140                                 
     141                                        ENDIF 
     142                                 
     143 002A  2B C2                            SUB     AX,DX 
     144 002C  A3 0000 E                        MOV     [TRNSEG],AX            
					         ; Read it in here 
     145 002F  A1 002C                          MOV     AX,DS:[PDB_environ] 
     146 0032  0B C0                            OR      AX,AX 
     147 0034  74 06                            JZ      BUILDENV               
					         ; Need to make an environment 
     148                                 
     149                                        ELSE 
     150 0036  FE 06 03AD R                     INC     BYTE PTR [CHUCKENV]    
					         ; Flag no ENVIRONSEG 
     151                                        ENDIF 
     152                                 
     153 003A  EB 0B                            JMP     SHORT ENVIRONPASSED 
     154                                 
     155 003C                           BUILDENV: 
     156                                 
     157                                        IF      NOT HIGHMEM 
     158 003C  B8 0000 E                        MOV     AX,OFFSET RESGROUP:PATH
					STRING   ; Figure environment pointer 
     159 003F  B1 04                            MOV     CL,4 
     160 0041  D3 E8                            SHR     AX,CL 
     161 0043  8C DA                            MOV     DX,DS 
     162 0045  03 C2                            ADD     AX,DX 
     163                                        ENDIF 
     164                                 
     165 0047                           ENVIRONPASSED: 
     166 0047  A3 0000 E                        MOV     [ENVIRSEG],AX 
     167                                 
     168                                        ENDIF 
     169                                 
     170 004A  8E C0                            MOV     ES,AX 
     171                                ASSUME  ES:ENVIRONMENT 
     172                                 
     173 004C                           GOTTHEENVIR: 
     174 004C  B8 3700                          MOV     AX,CHAR_OPER SHL 8 
     175 004F  CD 21                            INT     int_command 
     176 0051  88 16 0000 E                     MOV     [RSWITCHAR],DL 
     177                                 
     178 0055  80 FA 2F                         CMP     DL,'/' 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Page     1-5
DEVICE TABLE AND SRH DEFINITION                             

     179 0058  75 13                            JNZ     IUSESLASH 
     180                                 
     181                                        ELSE 
     182 005A  C6 06 038A R 5C 90               MOV     [COMSPECT],'\' 
     183                                        ENDIF 
     184                                 
     185                                        ELSE 
     186 0060  80 3E 03AD R 00                  CMP     BYTE PTR [CHUCKENV],0 
     187                                        ENDIF 
     188                                 
     189 0065  75 06                            JNZ     IUSESLASH 
     190                                 
     191 0067  26: C6 06 FFF0 E 5C              MOV     ES:[ECOMSPEC-10H],'\' 
     192 006D                           IUSESLASH: 
     193                                 
     194                                ENDIF 
     195                                 
     196 006D  A0 005C                          MOV     AL,BYTE PTR DS:[FCB]   
					      ; get drive spec for default 
     197 0070  B4 3A                            MOV     AH,DRVCHAR 
     198 0072  A2 0000 E                        MOV     [COMDRV],AL 
     199 0075  04 40                            ADD     AL,40H                 
					 ; Convert to letter 
     200 0077  3C 40                            CMP     AL,40H 
     201 0079  74 22                            JZ      NOCOMDRV 
     202 007B  FD                               STD 
     203                                        ELSE 
     204 007C  80 3E 03AD R 00                  CMP     BYTE PTR [CHUCKENV],0 
     205                                        ENDIF 
     206                                 
     207 0081  75 13                            JNZ     NOTWIDENV 
     208                                 
     209 0083  1E                               PUSH    DS 
     210 0084  06                               PUSH    ES 
     211 0085  1F                               POP     DS 
     212 0086  BF 0081 E                        MOV     DI,OFFSET ENVIRONMENT:E
					COMSPEC + ENVIRONSIZ2 - 1 - 10H 
     213 0089  BE 007F E                        MOV     SI,OFFSET ENVIRONMENT:E
					COMSPEC + ENVIRONSIZ2 - 3 - 10H 
     214 008C  B9 0090                          MOV     CX,ENVIRONSIZ2 - 2 
     215 008F  F3/ A4                           REP     MOVSB 
     216                                 
     217 0091  1F                               POP     DS 
     218 0092  26: A3 FFF0 E                    MOV     WORD PTR ES:[ECOMSPEC-1
					0H],AX 
     219                                 
     220 0096                           NOTWIDENV: 
     221 0096  FC                               CLD 
     222                                        ELSE 
     223 0097  A3 0398 R                        MOV     WORD PTR [AUTOBAT],AX 
     224                                        ENDIF 
     225                                 
     226 009A  A2 0000 E                        MOV     [COMLET],AL 
     227 009D                           NOCOMDRV: 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Page     1-6
DEVICE TABLE AND SRH DEFINITION                             

     228 009D  E8 0000 E                        CALL    SETVECT         ; Set t
					he vectors 
     229                                 
     230 00A0  BE 0080                          MOV     SI,80H 
     231 00A3  AC                               LODSB 
     232 00A4  8A C8                            MOV     CL,AL 
     233 00A6  32 ED                            XOR     CH,CH 
     234 00A8  E3 43                            JCXZ    COMRETURNSJ     ; No pa
					rameters 
     235 00AA  BE 0081                          MOV     SI,81H          ; Start
					 of parms 
     236 00AD                           CHKARG: 
     237 00AD  AC                               LODSB 
     238 00AE  3C 20                            CMP     AL,' ' 
     239 00B0  74 17                            JZ      NEXTCH 
     240 00B2  3C 09                            CMP     AL,9            ; Tab o
					nly other delimiter 
     241 00B4  74 13                            JZ      NEXTCH 
     242 00B6  3A 06 0000 E                     CMP     AL,[RSWITCHAR]   ; Swit
					ch? 
     243 00BA  75 34                            JNZ     CHKOTHERARGS    ; No 
     244 00BC  49                               DEC     CX 
     245 00BD  E3 29                            JCXZ    ARGSDONEJ       ; oops 
     246 00BF  AC                               LODSB 
     247 00C0  0C 20                            OR      AL,20H          ; Lower
					 case 
     248 00C2  3C 70                            CMP     AL,'p'          ; PERMC
					OM switch 
     249 00C4  75 03                            JNZ     NEXTCH 
     250 00C6  E9 01CC R                        JMP     SETPERM 
     251                                 
     252 00C9                           NEXTCH: 
     253 00C9  3C 64                            CMP     AL,'d' 
     254 00CB  75 09                            JNZ     NEXTCH3 
     255                                 
     256                                        ELSE 
     257 00CD  C6 06 03A8 R 01                  MOV     BYTE PTR [PRDATTM],1   
					  ; User explicitly says no date time 
     258                                        ENDIF 
     259                                 
     260 00D2  E2 D9                            LOOP    CHKARG 
     261 00D4  EB 12                            JMP     SHORT ARGSDONEJ 
     262 00D6                           NEXTCH3: 
     263 00D6  3C 63                            CMP     AL,'c' 
     264 00D8  75 11                            JNZ     NEXTCH2         ; SINGL
					ECOM switch 2 
     265 00DA  89 36 0000 E                     MOV     [SINGLECOM],SI  ; Point
					 to the rest of the command line 
     266 00DE  C6 06 0000 E 00                  MOV     [PERMCOM],0     ; A SIN
					GLECOM must not be a PERMCOM 
     267                                 
     268                                        ELSE 
     269 00E3  C6 06 03A8 R 01                  MOV     BYTE PTR [PRDATTM],1   
					  ; No date or time either, explicit 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Page     1-7
DEVICE TABLE AND SRH DEFINITION                             

     270                                        ENDIF 
     271                                 
     272 00E8                           ARGSDONEJ: 
     273 00E8  E9 01DE R                        JMP  ARGSDONE 
     274                                 
     275 00EB                           NEXTCH2: 
     276 00EB  E2 C0                            LOOP    CHKARG 
     277                                 
     278 00ED                           COMRETURNSJ: 
     279 00ED  E9 020C R                        JMP COMRETURNS 
     280                                 
     281 00F0                           CHKOTHERARGS: 
     282 00F0  4E                               DEC     SI 
     283 00F1  8B D6                            MOV     DX,SI 
     284 00F3  51                               PUSH    CX 
     285 00F4  56                               PUSH    SI 
     286 00F5                           CONTRLOOP: 
     287 00F5  AC                               LODSB 
     288 00F6  49                               DEC     CX 
     289 00F7  3C 20                            CMP     AL,' ' 
     290 00F9  74 09                            JZ      SETCDEV 
     291 00FB  3C 09                            CMP     AL,9 
     292 00FD  74 05                            JZ      SETCDEV 
     293 00FF  E3 02                            JCXZ    SETCDEVA 
     294 0101  EB F2                            JMP     SHORT CONTRLOOP 
     295                                 
     296 0103                           SETCDEVA: 
     297 0103  46                               INC     SI 
     298 0104                           SETCDEV: 
     299 0104  C6 44 FF 00                      MOV     BYTE PTR [SI-1],0 
     300 0108  B8 3D02                          MOV     AX,(OPEN SHL 8) OR 2   
					 ; Read and write 
     301 010B  CD 21                            INT     int_command 
     302 010D  72 46                            JC      CHKSRCHSPEC            
					 ; Wasn't a file 
     303 010F  8B D8                            MOV     BX,AX 
     304 0111  B8 4400                          MOV     AX,IOCTL SHL 8 
     305 0114  CD 21                            INT     int_command 
     306 0116  F6 C2 80                         TEST    DL,80H 
     307 0119  75 07                            JNZ     ISADEVICE 
     308 011B  B4 3E                            MOV     AH,CLOSE       ; Close 
					initial handle, wasn't a device 
     309 011D  CD 21                            INT     int_command 
     310 011F  EB 34 90                         JMP     CHKSRCHSPEC 
     311                                 
     312 0122                           ISADEVICE: 
     313 0122  32 F6                            XOR     DH,DH 
     314 0124  80 CA 03                         OR      DL,3            ; Make 
					sure has CON attributes 
     315 0127  B8 4401                          MOV     AX,(IOCTL SHL 8) OR 1 
     316 012A  CD 21                            INT     int_command 
     317 012C  8B D3                            MOV     DX,BX           ; Save 
					new handle 
     318 012E  5B                               POP     BX              ; Throw
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Page     1-8
DEVICE TABLE AND SRH DEFINITION                             

					 away saved SI 
     319 012F  5B                               POP     BX              ; Throw
					 away saved CX 
     320 0130  51                               PUSH    CX 
     321 0131  B9 0003                          MOV     CX,3 
     322 0134  33 DB                            XOR     BX,BX 
     323 0136                           RCCLLOOP:                              
					  ; Close 0,1 and 2 
     324 0136  B4 3E                            MOV     AH,CLOSE 
     325 0138  CD 21                            INT     int_command 
     326 013A  43                               INC     BX 
     327 013B  E2 F9                            LOOP    RCCLLOOP 
     328 013D  8B DA                            MOV     BX,DX           ; New d
					evice handle 
     329 013F  B4 45                            MOV     AH,XDUP 
     330 0141  CD 21                            INT     int_command            
					 ; Dup to 0 
     331 0143  B4 45                            MOV     AH,XDUP 
     332 0145  CD 21                            INT     int_command            
					 ; Dup to 1 
     333 0147  B4 45                            MOV     AH,XDUP 
     334 0149  CD 21                            INT     int_command            
					 ; Dup to 2 
     335 014B  B4 3E                            MOV     AH,CLOSE 
     336 014D  CD 21                            INT     int_command            
					 ; Close initial handle 
     337 014F  59                               POP     CX 
     338 0150  E3 5D                            JCXZ    ARGSDONEJ2 
     339 0152  E9 00AD R                        JMP     CHKARG 
     340                                 
     341 0155                           CHKSRCHSPEC:                    ; Not a
					 device, so must be directory spec 
     342                                 
     343                                        ELSE 
     344 0155  C6 06 03AD R 00                  MOV     BYTE PTR [CHUCKENV],0  
					  ; If search specified -- no inheritan
					ce 
     345 015A  B8 0000 E                        MOV     AX,OFFSET RESGROUP:PATH
					STRING   ; Figure environment pointer 
     346 015D  B1 04                            MOV     CL,4 
     347 015F  D3 E8                            SHR     AX,CL 
     348 0161  8C DA                            MOV     DX,DS 
     349 0163  03 C2                            ADD     AX,DX 
     350 0165  A3 0000 E                        MOV     [ENVIRSEG],AX 
     351                                        ENDIF 
     352                                 
     353 0168  8E C0                            MOV     ES,AX 
     354 016A  C6 44 FF 20                      MOV     BYTE PTR [SI-1],' ' 
     355 016E  5E                               POP     SI                     
					 ; Remember location 
     356 016F  59                               POP     CX                     
					 ; and count 
     357                                 
     358                                        ELSE 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Page     1-9
DEVICE TABLE AND SRH DEFINITION                             

     359 0170  8B 3E 03AE R                     MOV     DI,[ECOMLOC] 
     360                                        ENDIF 
     361                                 
     362 0174                           COMTRLOOP: 
     363 0174  AC                               LODSB 
     364 0175  49                               DEC     CX 
     365 0176  3C 20                            CMP     AL,' ' 
     366 0178  74 09                            JZ      SETCOMSR 
     367 017A  3C 09                            CMP     AL,9 
     368 017C  74 05                            JZ      SETCOMSR 
     369 017E  AA                               STOSB 
     370                                 
     371                                        ENDIF 
     372                                 
     373 017F  E3 02                            JCXZ    SETCOMSR 
     374                                 
     375                                        ENDIF 
     376                                 
     377 0181  EB F1                            JMP     SHORT COMTRLOOP 
     378                                 
     379 0183                           SETCOMSR: 
     380 0183  56                               PUSH    SI 
     381 0184  51                               PUSH    CX 
     382                                 
     383 0185  1E                               PUSH    DS 
     384                                 
     385                                        ENDIF 
     386                                 
     387 0186  BE 038A R                        MOV     SI,OFFSET RESGROUP:COMS
					PECT 
     388 0189  B9 000E                          MOV     CX,14 
     389                                 
     390 018C  26: 8A 45 FF                     MOV     AL,ES:[DI-1] 
     391                                 
     392                                        ENDIF 
     393                                 
     394 0190  E8 030E R                        CALL    PATHCHRCMPR 
     395 0193  75 02                            JNZ     INOTROOT 
     396 0195  46                               INC     SI              ; Don't
					 make a double / 
     397 0196  49                               DEC     CX 
     398 0197                           INOTROOT: 
     399 0197  F3/ A4                           REP     MOVSB 
     400                                 
     401 0199  8B 16 03AE R                     MOV     DX,[ECOMLOC]    ; Now l
					ets make sure its good! 
     402 019D  06                               PUSH    ES 
     403 019E  1F                               POP     DS 
     404                                 
     405 019F  B8 3D00                          MOV     AX,OPEN SHL 8 
     406 01A2  CD 21                            INT     int_command            
					 ; Open COMMAND.COM 
     407 01A4  1F                               POP     DS 
     408 01A5  72 0D                            JC      SETCOMSRBAD     ; No CO
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Page     1-10
DEVICE TABLE AND SRH DEFINITION                             

					MMAND.COM here 
     409 01A7  8B D8                            MOV     BX,AX           ; Handl
					e 
     410 01A9  B4 3E                            MOV     AH,CLOSE 
     411 01AB  CD 21                            INT     int_command            
					 ; Close COMMAND.COM 
     412 01AD                           SETCOMSRRET: 
     413 01AD  59                               POP     CX 
     414 01AE  5E                               POP     SI 
     415 01AF                           ARGSDONEJ2: 
     416 01AF  E3 2D                            JCXZ    ARGSDONE 
     417 01B1  E9 00AD R                        JMP     CHKARG 
     418                                 
     419 01B4                           SETCOMSRBAD: 
     420                                 
     421                                        ENDIF 
     422                                 
     423 01B4  BA 0000 E                        MOV     DX,OFFSET RESGROUP:BADC
					OMLKMES 
     424 01B7  B4 09                            MOV     AH,STD_CON_STRING_OUTPU
					T 
     425 01B9  CD 21                            INT     int_command 
     426 01BB  BE 038A R                        MOV     SI,OFFSET RESGROUP:COMS
					PECT 
     427 01BE  8B 3E 03AE R                     MOV     DI,[ECOMLOC] 
     428 01C2  B9 000E                          MOV     CX,14 
     429 01C5  F3/ A4                           REP     MOVSB           ; Get m
					y default back 
     430                                 
     431                                        ENDIF 
     432                                 
     433 01C7  EB E4                            JMP     SHORT SETCOMSRRET 
     434                                 
     435 01C9                           CHKARGJ: 
     436 01C9  E9 00AD R                        JMP    CHKARG 
     437                                 
     438 01CC                           SETPERM: 
     439 01CC  FE 06 0000 E                     INC     [PERMCOM] 
     440                                 
     441                                        ELSE 
     442 01D0  80 3E 03A8 R FF                  CMP     BYTE PTR [PRDATTM],-1 
     443                                        ENDIF 
     444                                 
     445 01D5  75 05                            JNZ     LOOPIT 
     446                                 
     447                                        ELSE 
     448 01D7  C6 06 03A8 R 00                  MOV     BYTE PTR [PRDATTM],0   
					          ; If not set explicit, set to
					 prompt 
     449                                        ENDIF 
     450                                 
     451 01DC                           LOOPIT: 
     452 01DC  E2 EB                            LOOP    CHKARGJ 
     453 01DE                           ARGSDONE: 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Page     1-11
DEVICE TABLE AND SRH DEFINITION                             

     454 01DE  80 3E 0000 E 00                  CMP     [PERMCOM],0 
     455 01E3  74 27                            JZ      COMRETURNS 
     456 01E5  06                               PUSH    ES                     
					 ; Save environment pointer 
     457 01E6  B4 50                            MOV     AH,SET_CURRENT_PDB 
     458 01E8  8C DB                            MOV     BX,DS 
     459 01EA  8E C3                            MOV     ES,BX 
     460 01EC  CD 21                            INT     int_command            
					         ; Current process is me 
     461 01EE  BF 000A                          MOV     DI,PDB_Exit            
					 ; Diddle the addresses in my header 
     462 01F1  B8 0000 E                        MOV     AX,OFFSET RESGROUP:LODC
					OM 
     463 01F4  AB                               STOSW 
     464 01F5  8C D8                            MOV     AX,DS 
     465 01F7  AB                               STOSW 
     466 01F8  B8 0000 E                        MOV     AX,OFFSET RESGROUP:CONT
					C 
     467 01FB  AB                               STOSW 
     468 01FC  8C D8                            MOV     AX,DS 
     469 01FE  AB                               STOSW 
     470 01FF  8C 1E 0016                       MOV     WORD PTR DS:[PDB_Parent
					_PID],DS ; Parent is me forever 
     471 0203  BA 0000 E                        MOV     DX,OFFSET RESGROUP:INT_
					2E 
     472 0206  B8 252E                          MOV     AX,(SET_INTERRUPT_VECTO
					R SHL 8) OR 02EH 
     473 0209  CD 21                            INT     int_command            
					         ;Set magic interrupt 
     474 020B  07                               POP     ES                     
					         ;Remember environment 
     475 020C                           COMRETURNS: 
     476 020C  A1 0016                          MOV     AX,WORD PTR DS:[PDB_Par
					ent_PID] 
     477 020F  A3 0000 E                        MOV     [PARENT],AX            
					         ; Save parent 
     478 0212  8C 1E 0016                       MOV     WORD PTR DS:[PDB_Parent
					_PID],DS ; Parent is me 
     479 0216  A1 0018                          MOV     AX,WORD PTR DS:[PDB_JFN
					_Table] 
     480 0219  A3 0000 E                        MOV     [IO_SAVE],AX           
					         ; Get the default stdin and ou
					t 
     481 021C  8C 1E 0002 E                     MOV     WORD PTR [COM_PTR+2],DS
					         ; Set all these to resident 
     482 0220  8C 1E 0002 E                     MOV     WORD PTR [COM_FCB1+2],D
					S 
     483 0224  8C 1E 0002 E                     MOV     WORD PTR [COM_FCB2+2],D
					S 
     484 0228  BF 0000 E                        MOV     DI,OFFSET RESGROUP:COMS
					PEC 
     485                                 
     486                                        ELSE 
     487 022B  8B 36 03AE R                     MOV     SI,[ECOMLOC] 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Page     1-12
DEVICE TABLE AND SRH DEFINITION                             

     488 022F  80 3E 03AD R 00                  CMP     BYTE PTR [CHUCKENV],0 
     489                                        ENDIF 
     490                                 
     491 0234  8C D8                            MOV     AX,DS                  
					 ; XCHG ES,DS 
     492 0236  06                               PUSH    ES 
     493 0237  1F                               POP     DS 
     494 0238  8E C0                            MOV     ES,AX 
     495                                 
     496 023A  74 1C                            JZ      COPYCOMSP              
					 ; All set up for copy 
     497                                 
     498 023C  0E                               PUSH    CS 
     499 023D  1F                               POP     DS 
     500                                 
     501 023E  BE 03B0 R                        MOV     SI,OFFSET RESGROUP:COMS
					PSTRING 
     502 0241  06                               PUSH    ES 
     503 0242  57                               PUSH    DI 
     504 0243  E8 031C R                        CALL    IFINDE 
     505 0246  8B F7                            MOV     SI,DI 
     506 0248  06                               PUSH    ES 
     507 0249  1F                               POP     DS 
     508 024A  5F                               POP     DI 
     509 024B  07                               POP     ES 
     510 024C  73 0A                            JNC     COPYCOMSP 
     511 024E                           COMSPECNOFND: 
     512                                 
     513                                        ELSE 
     514 024E  8B 36 03AE R                     MOV     SI,[ECOMLOC] 
     515 0252  81 C6 0000 E                     ADD     SI,OFFSET RESGROUP:PATH
					STRING 
     516 0256  0E                               PUSH    CS 
     517 0257  1F                               POP     DS 
     518                                        ENDIF 
     519                                 
     520 0258                           COPYCOMSP: 
     521 0258  AC                               LODSB 
     522 0259  AA                               STOSB 
     523 025A  0A C0                            OR      AL,AL 
     524 025C  75 FA                            JNZ     COPYCOMSP 
     525                                 
     526                                        ELSE 
     527 025E  0E                               PUSH    CS 
     528 025F  1F                               POP     DS 
     529 0260  BB 000F E                        MOV     BX,OFFSET RESGROUP:DATA
					RESEND + 15 
     530 0263  B1 04                            MOV     CL,4 
     531 0265  D3 EB                            SHR     BX,CL 
     532 0267  B4 4A                            MOV     AH,SETBLOCK 
     533 0269  CD 21                            INT     int_command            
					         ; Shrink me to the resident on
					ly 
     534 026B  80 3E 03AD R 00                  CMP     BYTE PTR [CHUCKENV],0 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Page     1-13
DEVICE TABLE AND SRH DEFINITION                             

     535 0270  75 1B                            JNZ     GOTENVIR               
					 ; Environment was passed 
     536 0272  BB 000A                          MOV     BX,(ENVIRONSIZ + 15) /1
					6 
     537 0275  B4 48                            MOV     AH,ALLOC 
     538 0277  CD 21                            INT     int_command            
					         ; "ALLOCATE" the environment 
     539 0279  8E 1E 0000 E                     MOV     DS,[ENVIRSEG] 
     540 027D  A3 0000 E                        MOV     [ENVIRSEG],AX 
     541 0280  8E C0                            MOV     ES,AX 
     542 0282  33 F6                            XOR     SI,SI 
     543 0284  8B FE                            MOV     DI,SI 
     544 0286  B9 00A0                          MOV     CX,ENVIRONSIZ 
     545 0289  F3/ A4                           REP     MOVSB 
     546 028B  0E                               PUSH    CS 
     547 028C  1F                               POP     DS 
     548                                        ENDIF 
     549                                 
     550 028D                           GOTENVIR: 
     551 028D  E8 0000 E                        CALL    LOADCOM                
					 ; Load the transient in the right plac
					e 
     552 0290  E8 0000 E                        CALL    CHKSUM                 
					 ; Compute the checksum 
     553 0293  89 16 0000 E                     MOV     [SUM],DX               
					 ; Save it 
     554                                ENDIF 
     555                                        IF MSVER 
     556 0297  83 3E 0000 E 00                  CMP     [SINGLECOM],0 
     557 029C  75 07                            JNZ     NOPHEAD                
					 ; Don't print header if SINGLECOM 
     558                                        ENDIF 
     559 029E  BA 0000 E                        MOV     DX,OFFSET RESGROUP:HEAD
					ER 
     560 02A1  B4 09                            MOV     AH,STD_CON_STRING_OUTPU
					T 
     561 02A3  CD 21                            INT     int_command 
     562                                        ENDIF 
     563 02A5                           NOPHEAD: 
     564                                        ENDIF 
     565                                 
     566                                        ELSE 
     567 02A5  80 3E 03A8 R 00                  CMP     BYTE PTR [PRDATTM],0 
     568                                        ENDIF 
     569                                 
     570 02AA  75 5F                            JNZ     NODTTM                 
					 ; Don't do AUTOEXEC or date time 
     571 02AC  BB 0003                          MOV     BX,3                   
					 ; 48 BYTES ENOUGH 
     572 02AF  B4 48                            MOV     AH,ALLOC 
     573 02B1  CD 21                            INT     int_command 
     574 02B3  72 46                            JC      DODTTM                 
					 ; PRETEND NO BATCH 
     575 02B5  A3 0000 E                        MOV     [BATCH],AX 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Page     1-14
DEVICE TABLE AND SRH DEFINITION                             

     576 02B8  8E C0                            MOV     ES,AX 
     577 02BA  33 FF                            XOR     DI,DI 
     578                                 
     579                                        ELSE 
     580 02BC  80 3E 0398 R 00                  CMP     BYTE PTR [AUTOBAT],0 
     581                                        ENDIF 
     582                                 
     583 02C1  75 09                            JNZ     NOAUTSET 
     584 02C3  B4 19                            MOV     AH,GET_DEFAULT_DRIVE 
     585 02C5  CD 21                            INT     int_command 
     586 02C7  04 41                            ADD     AL,'A' 
     587                                 
     588                                        ELSE 
     589 02C9  A2 0398 R                        MOV     [AUTOBAT],AL 
     590                                        ENDIF 
     591                                 
     592 02CC                           NOAUTSET: 
     593                                 
     594                                        ENDIF 
     595                                 
     596 02CC  BE 0398 R                        MOV     SI,OFFSET RESGROUP:AUTO
					BAT 
     597 02CF  B9 0008                          MOV     CX,8 
     598 02D2  F3/ A5                           REP     MOVSW   ; NAME 
     599 02D4  B8 FFFF                          MOV     AX,-1 
     600 02D7  B1 0A                            MOV     CL,10 
     601 02D9  F3/ AB                           REP     STOSW   ; PARMS 
     602 02DB  BA 0398 R                        MOV     DX,OFFSET RESGROUP:AUTO
					BAT 
     603 02DE  B8 3D00                          MOV     AX,OPEN SHL 8 
     604 02E1  CD 21                            INT     int_command            
					          ; See if AUTOEXEC.BAT exists 
     605 02E3  72 08                            JC      NOABAT 
     606 02E5  8B D8                            MOV     BX,AX 
     607 02E7  B4 3E                            MOV     AH,CLOSE 
     608 02E9  CD 21                            INT     int_command 
     609                                 
     610                                        ENDIF 
     611                                 
     612 02EB  EB 1E                            JMP     SHORT DRV0 
     613                                 
     614 02ED                           NOABAT: 
     615                                 
     616                                        ENDIF 
     617                                 
     618 02ED  8E 06 0000 E                     MOV     ES,[BATCH]      ; Not f
					ound--turn off batch job 
     619 02F1  B4 49                            MOV     AH,DEALLOC 
     620 02F3  CD 21                            INT     int_command 
     621 02F5  C7 06 0000 E 0000                MOV     [BATCH],0       ; AFTER
					 DEALLOC in case of ^C 
     622 02FB                           DODTTM: 
     623                                 
     624                                        ELSE 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Page     1-15
DEVICE TABLE AND SRH DEFINITION                             

     625 02FB  B8 0000 E                        MOV     AX,OFFSET TRANGROUP:DAT
					INIT 
     626 02FE  A3 03A9 R                        MOV     WORD PTR[INITADD],AX 
     627 0301  A1 0000 E                        MOV     AX,[TRNSEG] 
     628 0304  A3 03AB R                        MOV     WORD PTR[INITADD+2],AX 
     629 0307  FF 1E 03A9 R                     CALL    DWORD PTR [INITADD] 
     630                                        ENDIF 
     631                                 
     632 030B                           NODTTM: 
     633                                 
     634                                        ENDIF 
     635                                 
     636 030B                           DRV0: 
     637                                        ELSE 
     638 030B  E9 0000 E                        JMP     LODCOM                 
					 ; Allocate the transient 
     639                                        ENDIF 
     640                                 
     641 030E                           PATHCHRCMPR: 
     642 030E  80 3E 0000 E 2F                  CMP     [RSWITCHAR],'/' 
     643 0313  74 04                            JZ      RNOSLASHT 
     644 0315  3C 2F                            CMP     AL,'/' 
     645 0317  74 02                            JZ      RET41 
     646 0319                           RNOSLASHT: 
     647 0319  3C 5C                            CMP     AL,'\' 
     648 031B                           RET41: 
     649 031B  C3                               RET 
     650                                 
     651                                 
     652 031C                           IFINDE: 
     653 031C  E8 0324 R                        CALL    IFIND                  
					  ; FIND THE NAME 
     654 031F  72 2E                            JC      IFIND2                 
					  ; CARRY MEANS NOT FOUND 
     655 0321  EB 41 90                         JMP     ISCASB1                
					  ; SCAN FOR = SIGN 
     656                                ; 
     657                                ; On return of FIND1, ES:DI points to b
					eginning of name 
     658                                ; 
     659 0324                           IFIND: 
     660 0324  FC                               CLD 
     661                                 
     662 0325  E8 0350 R                        CALL    ICOUNT0                
					  ; CX = LENGTH OF NAME 
     663                                 
     664                                        ELSE 
     665 0328  8E 06 0000 E                     MOV     ES,[ENVIRSEG] 
     666                                        ENDIF 
     667                                 
     668 032C  33 FF                            XOR     DI,DI 
     669 032E                           IFIND1: 
     670 032E  51                               PUSH    CX 
     671 032F  56                               PUSH    SI 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Page     1-16
DEVICE TABLE AND SRH DEFINITION                             

     672 0330  57                               PUSH    DI 
     673 0331                           IFIND11: 
     674 0331  AC                               LODSB 
     675                                 
     676                                        ENDIF 
     677                                 
     678 0332  E8 0370 R                        CALL    IUPCONV 
     679 0335  47                               INC     DI 
     680 0336  26: 3A 45 FF                     CMP     AL,ES:[DI-1] 
     681 033A  75 02                            JNZ     IFIND12 
     682 033C  E2 F3                            LOOP    IFIND11 
     683 033E                           IFIND12: 
     684 033E  5F                               POP     DI 
     685 033F  5E                               POP     SI 
     686 0340  59                               POP     CX 
     687 0341  74 0C                            JZ      IFIND2 
     688 0343  51                               PUSH    CX 
     689 0344  E8 0368 R                        CALL    ISCASB2                
					  ; SCAN FOR A NUL 
     690 0347  59                               POP     CX 
     691 0348  26: 80 3D 00                     CMP     BYTE PTR ES:[DI],0 
     692 034C  75 E0                            JNZ     IFIND1 
     693 034E  F9                               STC                            
					 ; INDICATE NOT FOUND 
     694 034F                           IFIND2: 
     695 034F  C3                               RET 
     696                                 
     697 0350                           ICOUNT0: 
     698 0350  1E                               PUSH    DS 
     699 0351  07                               POP     ES 
     700 0352  8B FE                            MOV     DI,SI 
     701                                 
     702 0354  57                               PUSH    DI                     
					 ; COUNT NUMBER OF CHARS UNTIL "=" 
     703 0355  E8 0364 R                        CALL    ISCASB1 
     704 0358  EB 04                            JMP     SHORT ICOUNTX 
     705 035A  57                               PUSH    DI                     
					 ; COUNT NUMBER OF CHARS UNTIL NUL 
     706 035B  E8 0368 R                        CALL    ISCASB2 
     707 035E                           ICOUNTX: 
     708 035E  59                               POP     CX 
     709 035F  2B F9                            SUB     DI,CX 
     710 0361  87 F9                            XCHG    DI,CX 
     711 0363  C3                               RET 
     712                                 
     713 0364                           ISCASB1: 
     714 0364  B0 3D                            MOV     AL,"="                 
					 ; SCAN FOR AN = 
     715 0366  EB 02                            JMP     SHORT ISCASBX 
     716 0368                           ISCASB2: 
     717 0368  32 C0                            XOR     AL,AL                  
					 ; SCAN FOR A NUL 
     718 036A                           ISCASBX: 
     719 036A  B9 0100                          MOV     CX,100H 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Page     1-17
DEVICE TABLE AND SRH DEFINITION                             

     720 036D  F2/ AE                           REPNZ   SCASB 
     721 036F  C3                               RET 
     722                                 
     723                                        ENDIF 
     724                                 
     725 0370                           IUPCONV: 
     726 0370  3C 61                            CMP     AL,"a" 
     727 0372  72 06                            JB      IRET22 
     728 0374  3C 7A                            CMP     AL,"z" 
     729 0376  77 02                            JA      IRET22 
     730 0378  2C 20                            SUB     AL,20H          ; Lower
					-case changed to upper-case 
     731 037A                           IRET22: 
     732 037A  C3                               RET 
     733                                 
     734 037B                           ICONDEV LABEL BYTE 
     735 037B  2F 44 45 56 2F                   DB      "/DEV/" 
     736 0380  43 4F 4E 00 00 00 00             DB      "CON",0,0,0,0,0,0      
					    ; Room for 8 char device 
     737       00 00                    
     738 0389  00                       BADCSPFL DB     0 
     739 038A  2F 43 4F 4D 4D 41 4E     COMSPECT DB     "/COMMAND.COM",0,0 
     740       44 2E 43 4F 4D 00 00     
     741 0398  00 3A 5C 41 55 54 4F     AUTOBAT DB      0,":\AUTOEXEC.BAT",0 
     742       45 58 45 43 2E 42 41     
     743       54 00                    
     744                                 
     745 03A8  FF                       PRDATTM DB      -1                     
					 ;Init not to prompt for date time 
     746 03A9  ????????                 INITADD DD      ? 
     747 03AD  00                       CHUCKENV DB     0 
     748 03AE  FFF0 E                   ECOMLOC DW      OFFSET ENVIRONMENT:ECOM
					SPEC-10H 
     749                                 
     750                                        ENDIF 
     751                                 
     752 03B0  43 4F 4D 53 50 45 43     COMSPSTRING DB  "COMSPEC=" 
     753       3D                       
     754                                 
     755                                 
     756 03B8                           INIT    ENDS 
     757                                 
     758                                        END 

Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Symbols-1
                                                             

Macros:

		N a m e			Lines

BREAK  . . . . . . . . . . . . .  	   2
CONDRET  . . . . . . . . . . . .  	  19
CONTEXT  . . . . . . . . . . . .  	   3
DO_EXT . . . . . . . . . . . . .  	   0
ENTRY  . . . . . . . . . . . . .  	   2
ERROR  . . . . . . . . . . . . .  	   4
INVOKE . . . . . . . . . . . . .  	   8
I_AM . . . . . . . . . . . . . .  	  14
I_NEED . . . . . . . . . . . . .  	  11
JUMP . . . . . . . . . . . . . .  	  17
LONG_ADDR  . . . . . . . . . . .  	   7
MAKELAB  . . . . . . . . . . . .  	   4
PROCEDURE  . . . . . . . . . . .  	   2
RETC . . . . . . . . . . . . . .  	   1
RETNC  . . . . . . . . . . . . .  	   1
RETNZ  . . . . . . . . . . . . .  	   1
RETURN . . . . . . . . . . . . .  	   5
RETZ . . . . . . . . . . . . . .  	   1
SHORT_ADDR . . . . . . . . . . .  	  12
TRANSFER . . . . . . . . . . . .  	   8

Structures and Records:

                N a m e                 Width   # fields
                                        Shift   Width   Mask    Initial

ARENA  . . . . . . . . . . . . .  	0005	0003
  ARENA_SIGNATURE  . . . . . . .  	0000
  ARENA_OWNER  . . . . . . . . .  	0001
  ARENA_SIZE . . . . . . . . . .  	0003
BPBLOCK  . . . . . . . . . . . .  	000D	0008
  BPSECSZ  . . . . . . . . . . .  	0000
  BPCLUS . . . . . . . . . . . .  	0002
  BPRES  . . . . . . . . . . . .  	0003
  BPFTCNT  . . . . . . . . . . .  	0005
  BPDRCNT  . . . . . . . . . . .  	0006
  BPSCCNT  . . . . . . . . . . .  	0008
  BPMEDIA  . . . . . . . . . . .  	000A
  BPFTSEC  . . . . . . . . . . .  	000B
BUFFINFO . . . . . . . . . . . .  	0010	0009
  NEXTBUF  . . . . . . . . . . .  	0000
  BUFDRV . . . . . . . . . . . .  	0004
  BUFDIRTY . . . . . . . . . . .  	0005
  BUFPRI . . . . . . . . . . . .  	0006
  VISIT  . . . . . . . . . . . .  	0007
  BUFSECNO . . . . . . . . . . .  	0008
  BUFWRTCNT  . . . . . . . . . .  	000A
  BUFWRTINC  . . . . . . . . . .  	000B
  BUFDRVDP . . . . . . . . . . .  	000C
DIR_ENTRY  . . . . . . . . . . .  	0020	0008
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Symbols-2
                                                             

  DIR_NAME . . . . . . . . . . .  	0000
  DIR_ATTR . . . . . . . . . . .  	000B
  DIR_PAD  . . . . . . . . . . .  	000C
  DIR_TIME . . . . . . . . . . .  	0016
  DIR_DATE . . . . . . . . . . .  	0018
  DIR_FIRST  . . . . . . . . . .  	001A
  DIR_SIZE_L . . . . . . . . . .  	001C
  DIR_SIZE_H . . . . . . . . . .  	001E
DPB  . . . . . . . . . . . . . .  	005E	0012
  DPB_DRIVE  . . . . . . . . . .  	0000
  DPB_UNIT . . . . . . . . . . .  	0001
  DPB_SECTOR_SIZE  . . . . . . .  	0002
  DPB_CLUSTER_MASK . . . . . . .  	0004
  DPB_CLUSTER_SHIFT  . . . . . .  	0005
  DPB_FIRST_FAT  . . . . . . . .  	0006
  DPB_FAT_COUNT  . . . . . . . .  	0008
  DPB_ROOT_ENTRIES . . . . . . .  	0009
  DPB_FIRST_SECTOR . . . . . . .  	000B
  DPB_MAX_CLUSTER  . . . . . . .  	000D
  DPB_FAT_SIZE . . . . . . . . .  	000F
  DPB_DIR_SECTOR . . . . . . . .  	0010
  DPB_DRIVER_ADDR  . . . . . . .  	0012
  DPB_MEDIA  . . . . . . . . . .  	0016
  DPB_FIRST_ACCESS . . . . . . .  	0017
  DPB_NEXT_DPB . . . . . . . . .  	0018
  DPB_CURRENT_DIR  . . . . . . .  	001C
  DPB_DIR_TEXT . . . . . . . . .  	001E
EXEC0  . . . . . . . . . . . . .  	000E	0004
  EXEC0_ENVIRON  . . . . . . . .  	0000
  EXEC0_COM_LINE . . . . . . . .  	0002
  EXEC0_5C_FCB . . . . . . . . .  	0006
  EXEC0_6C_FCB . . . . . . . . .  	000A
EXEC1  . . . . . . . . . . . . .  	0016	0008
  EXEC1_ENVIRON  . . . . . . . .  	0000
  EXEC1_COM_LINE . . . . . . . .  	0002
  EXEC1_5C_FCB . . . . . . . . .  	0006
  EXEC1_6C_FCB . . . . . . . . .  	000A
  EXEC1_SP . . . . . . . . . . .  	000E
  EXEC1_SS . . . . . . . . . . .  	0010
  EXEC1_IP . . . . . . . . . . .  	0012
  EXEC1_CS . . . . . . . . . . .  	0014
EXEC3  . . . . . . . . . . . . .  	0004	0002
  EXEC3_LOAD_ADDR  . . . . . . .  	0000
  EXEC3_RELOC_FAC  . . . . . . .  	0002
EXE_FILE . . . . . . . . . . . .  	0020	000F
  EXE_SIGNATURE  . . . . . . . .  	0000
  EXE_LEN_MOD_512  . . . . . . .  	0002
  EXE_PAGES  . . . . . . . . . .  	0004
  EXE_RLE_COUNT  . . . . . . . .  	0006
  EXE_PAR_DIR  . . . . . . . . .  	0008
  EXE_MIN_BSS  . . . . . . . . .  	000A
  EXE_MAX_BSS  . . . . . . . . .  	000C
  EXE_SS . . . . . . . . . . . .  	000E
  EXE_SP . . . . . . . . . . . .  	0010
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Symbols-3
                                                             

  EXE_CHKSUM . . . . . . . . . .  	0012
  EXE_IP . . . . . . . . . . . .  	0014
  EXE_CS . . . . . . . . . . . .  	0016
  EXE_RLE_TABLE  . . . . . . . .  	0018
  EXE_IOV  . . . . . . . . . . .  	001A
  EXE_SYM_TAB  . . . . . . . . .  	001C
FIND_BUF . . . . . . . . . . . .  	002B	000C
  FIND_BUF_SATTR . . . . . . . .  	0000
  FIND_BUF_DRIVE . . . . . . . .  	0001
  FIND_BUF_NAME  . . . . . . . .  	0002
  FIND_BUF_LASTENT . . . . . . .  	000D
  FIND_BUF_THISDPB . . . . . . .  	000F
  FIND_BUF_DIRSTART  . . . . . .  	0013
  FIND_BUF_ATTR  . . . . . . . .  	0015
  FIND_BUF_TIME  . . . . . . . .  	0016
  FIND_BUF_DATE  . . . . . . . .  	0018
  FIND_BUF_SIZE_L  . . . . . . .  	001A
  FIND_BUF_SIZE_H  . . . . . . .  	001C
  FIND_BUF_PNAME . . . . . . . .  	001E
INTERNAT_BLOCK . . . . . . . . .  	0018	0015
  DATE_TIM_FORMAT  . . . . . . .  	0000
  CURRENCY_SYM . . . . . . . . .  	0002
  THOUS_SEP  . . . . . . . . . .  	0007
  DECIMAL_SEP  . . . . . . . . .  	0009
  DATE_SEP . . . . . . . . . . .  	000B
  TIME_SEP . . . . . . . . . . .  	000D
  BIT_FEILD  . . . . . . . . . .  	000F
  CURRENCY_CENTS . . . . . . . .  	0010
  TIME_24  . . . . . . . . . . .  	0011
  MAP_CALL . . . . . . . . . . .  	0012
  DATA_SEP . . . . . . . . . . .  	0016
PROCESS_DATA_BLOCK . . . . . . .  	005B	000E
  PDB_EXIT_CALL  . . . . . . . .  	0000
  PDB_BLOCK_LEN  . . . . . . . .  	0002
  PDB_CPM_CALL . . . . . . . . .  	0005
  PDB_EXIT . . . . . . . . . . .  	000A
  PDB_CTRL_C . . . . . . . . . .  	000E
  PDB_FATAL_ABORT  . . . . . . .  	0012
  PDB_PARENT_PID . . . . . . . .  	0016
  PDB_JFN_TABLE  . . . . . . . .  	0018
  PDB_ENVIRON  . . . . . . . . .  	002C
  PDB_USER_STACK . . . . . . . .  	002E
  PDB_PAD1 . . . . . . . . . . .  	0032
  PDB_CALL_SYSTEM  . . . . . . .  	0050
  PDB_PAD2 . . . . . . . . . . .  	0055
SFT  . . . . . . . . . . . . . .  	0008	0003
  SFT_LINK . . . . . . . . . . .  	0000
  SFT_COUNT  . . . . . . . . . .  	0004
  SFT_TABLE  . . . . . . . . . .  	0006
SF_ENTRY . . . . . . . . . . . .  	0028	0004
  SF_REF_COUNT . . . . . . . . .  	0000
  SF_MODE  . . . . . . . . . . .  	0001
  SF_ATTR  . . . . . . . . . . .  	0002
  SF_FCB . . . . . . . . . . . .  	0003
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Symbols-4
                                                             

SRHEAD . . . . . . . . . . . . .  	000D	0005
  REQLEN . . . . . . . . . . . .  	0000
  REQUNIT  . . . . . . . . . . .  	0001
  REQFUNC  . . . . . . . . . . .  	0002
  REQSTAT  . . . . . . . . . . .  	0003
SYMBOL_ENTRY . . . . . . . . . .  	0106	0004
  SYM_VALUE  . . . . . . . . . .  	0000
  SYM_TYPE . . . . . . . . . . .  	0004
  SYM_LEN  . . . . . . . . . . .  	0006
  SYM_NAME . . . . . . . . . . .  	0007
SYSDEV . . . . . . . . . . . . .  	0012	0005
  SDEVNEXT . . . . . . . . . . .  	0000
  SDEVATT  . . . . . . . . . . .  	0004
  SDEVSTRAT  . . . . . . . . . .  	0006
  SDEVINT  . . . . . . . . . . .  	0008
  SDEVNAME . . . . . . . . . . .  	000A
SYS_FCB  . . . . . . . . . . . .  	0025	0010
  FCB_DRIVE  . . . . . . . . . .  	0000
  FCB_NAME . . . . . . . . . . .  	0001
  FCB_EXT  . . . . . . . . . . .  	0009
  FCB_EXTENT . . . . . . . . . .  	000C
  FCB_RECSIZ . . . . . . . . . .  	000E
  FCB_FILSIZ . . . . . . . . . .  	0010
  FCB_DRVBP  . . . . . . . . . .  	0012
  FCB_FDATE  . . . . . . . . . .  	0014
  FCB_FTIME  . . . . . . . . . .  	0016
  FCB_DEVID  . . . . . . . . . .  	0018
  FCB_FIRCLUS  . . . . . . . . .  	0019
  FCB_CLUSPOS  . . . . . . . . .  	001B
  FCB_LSTCLUS  . . . . . . . . .  	001D
  FCB_NR . . . . . . . . . . . .  	0020
  FCB_RR . . . . . . . . . . . .  	0021
USER_ENVIRON . . . . . . . . . .  	0018	000C
  USER_AX  . . . . . . . . . . .  	0000
  USER_BX  . . . . . . . . . . .  	0002
  USER_CX  . . . . . . . . . . .  	0004
  USER_DX  . . . . . . . . . . .  	0006
  USER_SI  . . . . . . . . . . .  	0008
  USER_DI  . . . . . . . . . . .  	000A
  USER_BP  . . . . . . . . . . .  	000C
  USER_DS  . . . . . . . . . . .  	000E
  USER_ES  . . . . . . . . . . .  	0010
  USER_IP  . . . . . . . . . . .  	0012
  USER_CS  . . . . . . . . . . .  	0014
  USER_F . . . . . . . . . . . .  	0016
VARSTRUC . . . . . . . . . . . .  	0059	0005
  ISDIR  . . . . . . . . . . . .  	0000
  SIZ  . . . . . . . . . . . . .  	0001
  TTAIL  . . . . . . . . . . . .  	0002
  INFO . . . . . . . . . . . . .  	0004
  BUF  . . . . . . . . . . . . .  	0005
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Symbols-5
                                                             

Segments and Groups:

                N a m e         	Size	Align	Combine Class

EGROUP . . . . . . . . . . . . .  	GROUP
  ZEXEC_CODE . . . . . . . . . .  	0000	PARA	PUBLIC	
  ZEXEC_DATA . . . . . . . . . .  	0000	PARA	PUBLIC	
RESGROUP . . . . . . . . . . . .  	GROUP
  CODERES  . . . . . . . . . . .  	0000	PARA	PUBLIC	
  DATARES  . . . . . . . . . . .  	0000	PARA	PUBLIC	
  ENVIRONMENT  . . . . . . . . .  	0000	PARA	PUBLIC	
  INIT . . . . . . . . . . . . .  	03B8	PARA	PUBLIC	
  TAIL . . . . . . . . . . . . .  	0000	PARA	PUBLIC	
TRANGROUP  . . . . . . . . . . .  	GROUP
  TRANCODE . . . . . . . . . . .  	0000	PARA	PUBLIC	
  TRANDATA . . . . . . . . . . .  	0000	PARA	PUBLIC	
  TRANSPACE  . . . . . . . . . .  	0000	PARA	PUBLIC	
  TRANTAIL . . . . . . . . . . .  	0000	PARA	PUBLIC	

Symbols:            

                N a m e         	Type	Value	Attr         

ABORT  . . . . . . . . . . . . .  	Number	0000	
ADDR_INT_ABORT . . . . . . . . .  	Number	0080	
ADDR_INT_COMMAND . . . . . . . .  	Number	0084	
ADDR_INT_CTRL_C  . . . . . . . .  	Number	008C	
ADDR_INT_DISK_READ . . . . . . .  	Number	0094	
ADDR_INT_DISK_WRITE  . . . . . .  	Number	0098	
ADDR_INT_FASTCON . . . . . . . .  	Number	00A4	
ADDR_INT_FATAL_ABORT . . . . . .  	Number	0090	
ADDR_INT_KEEP_PROCESS  . . . . .  	Number	009C	
ADDR_INT_SPOOLER . . . . . . . .  	Number	00A0	
ADDR_INT_TERMINATE . . . . . . .  	Number	0088	
ALLOC  . . . . . . . . . . . . .  	Number	0048	
ALLOCOPER  . . . . . . . . . . .  	Number	0058	
ALLOC_ARENA_TRASHED  . . . . . .  	Alias	 ERROR_ARENA_TRASHED		
ALLOC_NOT_ENOUGH_MEMORY  . . . .  	Alias	 ERROR_NOT_ENOUGH_MEMORY		
ALTVECT  . . . . . . . . . . . .  	Number	0000	
ARENA_OWNER_SYSTEM . . . . . . .  	Number	0000	
ARENA_SIGNATURE_END  . . . . . .  	Number	005A	
ARENA_SIGNATURE_NORMAL . . . . .  	Number	004D	
ARGSDONE . . . . . . . . . . . .  	L NEAR	01DE	INIT
ARGSDONEJ  . . . . . . . . . . .  	L NEAR	00E8	INIT
ARGSDONEJ2 . . . . . . . . . . .  	L NEAR	01AF	INIT
ASSIGNOPER . . . . . . . . . . .  	Number	005F	
ASWITCH  . . . . . . . . . . . .  	Number	0004	
ATTR_ALL . . . . . . . . . . . .  	Number	0016	
ATTR_ARCHIVE . . . . . . . . . .  	Number	0020	
ATTR_CHANGEABLE  . . . . . . . .  	Number	0027	
ATTR_DIRECTORY . . . . . . . . .  	Number	0010	
ATTR_HIDDEN  . . . . . . . . . .  	Number	0002	
ATTR_IGNORE  . . . . . . . . . .  	Number	0021	
ATTR_READ_ONLY . . . . . . . . .  	Number	0001	
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Symbols-6
                                                             

ATTR_SYSTEM  . . . . . . . . . .  	Number	0004	
ATTR_VOLUME_ID . . . . . . . . .  	Number	0008	
AUTOBAT  . . . . . . . . . . . .  	L BYTE 	0398	INIT

BADCOMLKMES  . . . . . . . . . .  	V BYTE 	0000	INIT	External
BADCSPFL . . . . . . . . . . . .  	L BYTE 	0389	INIT
BATCH  . . . . . . . . . . . . .  	V WORD 	0000	DATARES	External
BSWITCH  . . . . . . . . . . . .  	Number	0008	
BUFINSIZ . . . . . . . . . . . .  	Number	0010	
BUILDENV . . . . . . . . . . . .  	L NEAR	003C	INIT

CHAR_OPER  . . . . . . . . . . .  	Number	0037	
CHDIR  . . . . . . . . . . . . .  	Number	003B	
CHDIR_PATH_NOT_FOUND . . . . . .  	Alias	 ERROR_PATH_NOT_FOUND		
CHKARG . . . . . . . . . . . . .  	L NEAR	00AD	INIT
CHKARGJ  . . . . . . . . . . . .  	L NEAR	01C9	INIT
CHKOTHERARGS . . . . . . . . . .  	L NEAR	00F0	INIT
CHKSRCHSPEC  . . . . . . . . . .  	L NEAR	0155	INIT
CHKSUM . . . . . . . . . . . . .  	L NEAR	0000	CODERES	External
CHMOD  . . . . . . . . . . . . .  	Number	0043	
CHMOD_ACCESS_DENIED  . . . . . .  	Alias	 ERROR_ACCESS_DENIED		
CHMOD_INVALID_FUNCTION . . . . .  	Alias	 ERROR_INVALID_FUNCTION		
CHMOD_PATH_NOT_FOUND . . . . . .  	Alias	 ERROR_PATH_NOT_FOUND		
CHUCKENV . . . . . . . . . . . .  	L BYTE 	03AD	INIT
CLOSE  . . . . . . . . . . . . .  	Number	003E	
CLOSE_INVALID_FUNCTION . . . . .  	Alias	 ERROR_INVALID_FUNCTION		
CLOSE_INVALID_HANDLE . . . . . .  	Alias	 ERROR_INVALID_HANDLE		
COMBUFLEN  . . . . . . . . . . .  	Number	0080	
COMDRV . . . . . . . . . . . . .  	V BYTE 	0000	DATARES	External
COMLET . . . . . . . . . . . . .  	V BYTE 	0000	DATARES	External
COMRETURNS . . . . . . . . . . .  	L NEAR	020C	INIT
COMRETURNSJ  . . . . . . . . . .  	L NEAR	00ED	INIT
COMSPEC  . . . . . . . . . . . .  	V BYTE 	0000	DATARES	External
COMSPECNOFND . . . . . . . . . .  	L NEAR	024E	INIT
COMSPECT . . . . . . . . . . . .  	L BYTE 	038A	INIT
COMSPSTRING  . . . . . . . . . .  	L BYTE 	03B0	INIT
COMTRLOOP  . . . . . . . . . . .  	L NEAR	0174	INIT
COM_FCB1 . . . . . . . . . . . .  	V DWORD	0000	DATARES	External
COM_FCB2 . . . . . . . . . . . .  	V DWORD	0000	DATARES	External
COM_PTR  . . . . . . . . . . . .  	V DWORD	0000	DATARES	External
CONPROC  . . . . . . . . . . . .  	L NEAR	0000	INIT	Global
CONTC  . . . . . . . . . . . . .  	L NEAR	0000	CODERES	External
CONTRLOOP  . . . . . . . . . . .  	L NEAR	00F5	INIT
COPYCOMSP  . . . . . . . . . . .  	L NEAR	0258	INIT
COUNTRY_NOT_FOUND  . . . . . . .  	Alias	 ERROR_FILE_NOT_FOUND		
CREAT  . . . . . . . . . . . . .  	Number	003C	
CREATENEWFILE  . . . . . . . . .  	Number	005B	
CREATETEMPFILE . . . . . . . . .  	Number	005A	
CREATE_PROCESS_DATA_BLOCK  . . .  	Number	0026	
CREAT_ACCESS_DENIED  . . . . . .  	Alias	 ERROR_ACCESS_DENIED		
CREAT_PATH_NOT_FOUND . . . . . .  	Alias	 ERROR_PATH_NOT_FOUND		
CREAT_TOO_MANY_OPEN_FILES  . . .  	Alias	 ERROR_TOO_MANY_OPEN_FILES		
CURDIR_INVALID_DRIVE . . . . . .  	Alias	 ERROR_INVALID_DRIVE		
CURRENT_DIR  . . . . . . . . . .  	Number	0047	
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Symbols-7
                                                             

C_BS . . . . . . . . . . . . . .  	Number	0008	
C_CR . . . . . . . . . . . . . .  	Number	000D	
C_DEL  . . . . . . . . . . . . .  	Number	007F	
C_ETB  . . . . . . . . . . . . .  	Number	0017	
C_ETX  . . . . . . . . . . . . .  	Number	0003	
C_HT . . . . . . . . . . . . . .  	Number	0009	
C_LF . . . . . . . . . . . . . .  	Number	000A	
C_NAK  . . . . . . . . . . . . .  	Number	0015	

DATARESEND . . . . . . . . . . .  	V BYTE 	0000	DATARES	External
DATINIT  . . . . . . . . . . . .  	L FAR 	0000	TRANCODE	External
DBPBHL . . . . . . . . . . . . .  	Number	0016	
DEALLOC  . . . . . . . . . . . .  	Number	0049	
DEALLOC_ARENA_TRASHED  . . . . .  	Alias	 ERROR_ARENA_TRASHED		
DEALLOC_INVALID_BLOCK  . . . . .  	Alias	 ERROR_INVALID_BLOCK		
DEVBPB . . . . . . . . . . . . .  	Number	0002	
DEVID_BLOCK_DEV  . . . . . . . .  	Number	001F	
DEVID_DEVICE . . . . . . . . . .  	Number	0080	
DEVID_DEVICE_CLOCK . . . . . . .  	Number	0008	
DEVID_DEVICE_CON_IN  . . . . . .  	Number	0001	
DEVID_DEVICE_CON_OUT . . . . . .  	Number	0002	
DEVID_DEVICE_EOF . . . . . . . .  	Number	0040	
DEVID_DEVICE_NULL  . . . . . . .  	Number	0004	
DEVID_DEVICE_RAW . . . . . . . .  	Number	0020	
DEVID_DEVICE_SPECIAL . . . . . .  	Number	0010	
DEVID_EOF  . . . . . . . . . . .  	Number	0040	
DEVID_FILE_CLEAN . . . . . . . .  	Number	0040	
DEVID_FILE_MASK_DRIVE  . . . . .  	Number	003F	
DEVID_ISCIN  . . . . . . . . . .  	Number	0001	
DEVID_ISCLK  . . . . . . . . . .  	Number	0008	
DEVID_ISCOT  . . . . . . . . . .  	Number	0002	
DEVID_ISDEV  . . . . . . . . . .  	Number	0080	
DEVID_ISNUL  . . . . . . . . . .  	Number	0004	
DEVID_RAW  . . . . . . . . . . .  	Number	0020	
DEVID_SPECIAL  . . . . . . . . .  	Number	0010	
DEVIFL . . . . . . . . . . . . .  	Number	0007	
DEVINIT  . . . . . . . . . . . .  	Number	0000	
DEVIOCTL . . . . . . . . . . . .  	Number	4000	
DEVIST . . . . . . . . . . . . .  	Number	0006	
DEVMDCH  . . . . . . . . . . . .  	Number	0001	
DEVOFL . . . . . . . . . . . . .  	Number	000B	
DEVOST . . . . . . . . . . . . .  	Number	000A	
DEVRD  . . . . . . . . . . . . .  	Number	0004	
DEVRDIOCTL . . . . . . . . . . .  	Number	0003	
DEVRDND  . . . . . . . . . . . .  	Number	0005	
DEVTYP . . . . . . . . . . . . .  	Number	8000	
DEVWRIOCTL . . . . . . . . . . .  	Number	000C	
DEVWRT . . . . . . . . . . . . .  	Number	0008	
DEVWRTV  . . . . . . . . . . . .  	Number	0009	
DFLSHL . . . . . . . . . . . . .  	Number	000F	
DINITHL  . . . . . . . . . . . .  	Number	001A	
DIRPRI . . . . . . . . . . . . .  	Number	000F	
DIRSTRLEN  . . . . . . . . . . .  	Number	0040	
DIR_SEARCH_FIRST . . . . . . . .  	Number	0011	
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Symbols-8
                                                             

DIR_SEARCH_NEXT  . . . . . . . .  	Number	0012	
DISK_RESET . . . . . . . . . . .  	Number	000D	
DMEDHL . . . . . . . . . . . . .  	Number	000F	
DODTTM . . . . . . . . . . . . .  	L NEAR	02FB	INIT
DOS_MAJOR_VERSION  . . . . . . .  	Number	0002	
DOS_MINOR_VERSION  . . . . . . .  	Number	000B	
DPBSIZ . . . . . . . . . . . . .  	Number	005E	
DRDNDHL  . . . . . . . . . . . .  	Number	000E	
DRDWRHL  . . . . . . . . . . . .  	Number	0016	
DRV0 . . . . . . . . . . . . . .  	L NEAR	030B	INIT
DRVCHAR  . . . . . . . . . . . .  	Number	003A	
DSKSIZ . . . . . . . . . . . . .  	Number	000D	
DSTATHL  . . . . . . . . . . . .  	Number	000D	
DUP2_INVALID_HANDLE  . . . . . .  	Alias	 ERROR_INVALID_HANDLE		
DUP_INVALID_HANDLE . . . . . . .  	Alias	 ERROR_INVALID_HANDLE		
DUP_PDB  . . . . . . . . . . . .  	Number	0055	
DUP_TOO_MANY_OPEN_FILES  . . . .  	Alias	 ERROR_TOO_MANY_OPEN_FILES		

ECOMLOC  . . . . . . . . . . . .  	L WORD 	03AE	INIT
ECOMSPEC . . . . . . . . . . . .  	V BYTE 	0000	ENVIRONMENT	External
ENTRYPOINT . . . . . . . . . . .  	Number	00C0	
ENVIREND . . . . . . . . . . . .  	V BYTE 	0000	ENVIRONMENT	External
ENVIRONPASSED  . . . . . . . . .  	L NEAR	0047	INIT
ENVIRONSIZ . . . . . . . . . . .  	Number	00A0	
ENVIRONSIZ2  . . . . . . . . . .  	Number	0092	
ENVIRSEG . . . . . . . . . . . .  	V WORD 	0000	DATARES	External
ERROR_ACCESS_DENIED  . . . . . .  	Number	0005	
ERROR_ARENA_TRASHED  . . . . . .  	Number	0007	
ERROR_BAD_ENVIRONMENT  . . . . .  	Number	000A	
ERROR_BAD_FORMAT . . . . . . . .  	Number	000B	
ERROR_CURRENT_DIRECTORY  . . . .  	Number	0010	
ERROR_FILE_NOT_FOUND . . . . . .  	Number	0002	
ERROR_INVALID_ACCESS . . . . . .  	Number	000C	
ERROR_INVALID_BLOCK  . . . . . .  	Number	0009	
ERROR_INVALID_DATA . . . . . . .  	Number	000D	
ERROR_INVALID_DRIVE  . . . . . .  	Number	000F	
ERROR_INVALID_FUNCTION . . . . .  	Number	0001	
ERROR_INVALID_HANDLE . . . . . .  	Number	0006	
ERROR_NOT_ENOUGH_MEMORY  . . . .  	Number	0008	
ERROR_NOT_SAME_DEVICE  . . . . .  	Number	0011	
ERROR_NO_MORE_FILES  . . . . . .  	Number	0012	
ERROR_PATH_NOT_FOUND . . . . . .  	Number	0003	
ERROR_TOO_MANY_OPEN_FILES  . . .  	Number	0004	
EXEC . . . . . . . . . . . . . .  	Number	004B	
EXEC_BAD_ENVIRONMENT . . . . . .  	Alias	 ERROR_BAD_ENVIRONMENT		
EXEC_BAD_FORMAT  . . . . . . . .  	Alias	 ERROR_BAD_FORMAT		
EXEC_FILE_NOT_FOUND  . . . . . .  	Alias	 ERROR_FILE_NOT_FOUND		
EXEC_FUNC_NO_EXECUTE . . . . . .  	Number	0001	
EXEC_FUNC_OVERLAY  . . . . . . .  	Number	0002	
EXEC_INVALID_FUNCTION  . . . . .  	Alias	 ERROR_INVALID_FUNCTION		
EXEC_NOT_ENOUGH_MEMORY . . . . .  	Alias	 ERROR_NOT_ENOUGH_MEMORY		
EXE_VALID_OLD_SIGNATURE  . . . .  	Number	4D5A	
EXE_VALID_SIGNATURE  . . . . . .  	Number	5A4D	
EXIT . . . . . . . . . . . . . .  	Number	004C	
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Symbols-9
                                                             

EXIT_ABORT . . . . . . . . . . .  	Number	0000	
EXIT_CTRL_C  . . . . . . . . . .  	Number	0001	
EXIT_HARD_ERROR  . . . . . . . .  	Number	0002	
EXIT_KEEP_PROCESS  . . . . . . .  	Number	0003	
EXIT_TERMINATE . . . . . . . . .  	Number	0000	

FALSE  . . . . . . . . . . . . .  	Number	0000	
FATPRI . . . . . . . . . . . . .  	Number	001E	
FCB  . . . . . . . . . . . . . .  	Number	005C	
FCB_CLOSE  . . . . . . . . . . .  	Number	0010	
FCB_CREATE . . . . . . . . . . .  	Number	0016	
FCB_DELETE . . . . . . . . . . .  	Number	0013	
FCB_OPEN . . . . . . . . . . . .  	Number	000F	
FCB_RANDOM_READ  . . . . . . . .  	Number	0021	
FCB_RANDOM_READ_BLOCK  . . . . .  	Number	0027	
FCB_RANDOM_WRITE . . . . . . . .  	Number	0022	
FCB_RANDOM_WRITE_BLOCK . . . . .  	Number	0028	
FCB_RENAME . . . . . . . . . . .  	Number	0017	
FCB_SEQ_READ . . . . . . . . . .  	Number	0014	
FCB_SEQ_WRITE  . . . . . . . . .  	Number	0015	
FILDIRENT  . . . . . . . . . . .  	Number	0010	
FILETIMES_INVALID_FUNCTION . . .  	Alias	 ERROR_INVALID_FUNCTION		
FILETIMES_INVALID_HANDLE . . . .  	Alias	 ERROR_INVALID_HANDLE		
FILE_TIMES . . . . . . . . . . .  	Number	0057	
FILPERPROC . . . . . . . . . . .  	Number	0014	
FINDFIRST_FILE_NOT_FOUND . . . .  	Alias	 ERROR_FILE_NOT_FOUND		
FINDFIRST_NO_MORE_FILES  . . . .  	Alias	 ERROR_NO_MORE_FILES		
FINDNEXT_NO_MORE_FILES . . . . .  	Alias	 ERROR_NO_MORE_FILES		
FIND_FIRST . . . . . . . . . . .  	Number	004E	
FIND_NEXT  . . . . . . . . . . .  	Number	004F	
FREEPRI  . . . . . . . . . . . .  	Number	0000	

GETEXTENDEDERROR . . . . . . . .  	Number	0059	
GET_CURRENT_PDB  . . . . . . . .  	Number	0051	
GET_DATE . . . . . . . . . . . .  	Number	002A	
GET_DEFAULT_DPB  . . . . . . . .  	Number	001F	
GET_DEFAULT_DRIVE  . . . . . . .  	Number	0019	
GET_DMA  . . . . . . . . . . . .  	Number	002F	
GET_DPB  . . . . . . . . . . . .  	Number	0032	
GET_DRIVE_FREESPACE  . . . . . .  	Number	0036	
GET_FCB_FILE_LENGTH  . . . . . .  	Number	0023	
GET_FCB_POSITION . . . . . . . .  	Number	0024	
GET_INDOS_FLAG . . . . . . . . .  	Number	0034	
GET_INTERRUPT_VECTOR . . . . . .  	Number	0035	
GET_IN_VARS  . . . . . . . . . .  	Number	0052	
GET_TIME . . . . . . . . . . . .  	Number	002C	
GET_VERIFY_ON_WRITE  . . . . . .  	Number	0054	
GET_VERSION  . . . . . . . . . .  	Number	0030	
GOTENVIR . . . . . . . . . . . .  	L NEAR	028D	INIT
GOTSWITCH  . . . . . . . . . . .  	Number	8000	
GOTTHEENVIR  . . . . . . . . . .  	L NEAR	004C	INIT

HEADER . . . . . . . . . . . . .  	V BYTE 	0000	INIT	External
HIGHMEM  . . . . . . . . . . . .  	Alias	 FALSE		
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Symbols-10
                                                             


IBM  . . . . . . . . . . . . . .  	Alias	 IBMVER		
IBMJAPAN . . . . . . . . . . . .  	Alias	 FALSE		
IBMVER . . . . . . . . . . . . .  	Alias	 FALSE		
ICONDEV  . . . . . . . . . . . .  	L BYTE 	037B	INIT
ICOUNT0  . . . . . . . . . . . .  	L NEAR	0350	INIT
ICOUNTX  . . . . . . . . . . . .  	L NEAR	035E	INIT
IFIND  . . . . . . . . . . . . .  	L NEAR	0324	INIT
IFIND1 . . . . . . . . . . . . .  	L NEAR	032E	INIT
IFIND11  . . . . . . . . . . . .  	L NEAR	0331	INIT
IFIND12  . . . . . . . . . . . .  	L NEAR	033E	INIT
IFIND2 . . . . . . . . . . . . .  	L NEAR	034F	INIT
IFINDE . . . . . . . . . . . . .  	L NEAR	031C	INIT
INITADD  . . . . . . . . . . . .  	L DWORD	03A9	INIT
INOTROOT . . . . . . . . . . . .  	L NEAR	0197	INIT
INTBASE  . . . . . . . . . . . .  	Number	0080	
INTERNATIONAL  . . . . . . . . .  	Number	0038	
INTERNATIONAL_INVALID_FUNCTION .  	Alias	 ERROR_INVALID_FUNCTION		
INTERNAT_BLOCK_MAX . . . . . . .  	Number	0020	
INTTAB . . . . . . . . . . . . .  	Number	0020	
INT_2E . . . . . . . . . . . . .  	L NEAR	0000	CODERES	External
INT_ABORT  . . . . . . . . . . .  	Alias	 INTTAB		
INT_COMMAND  . . . . . . . . . .  	Number	0021	
INT_CTRL_C . . . . . . . . . . .  	Number	0023	
INT_DISK_READ  . . . . . . . . .  	Number	0025	
INT_DISK_WRITE . . . . . . . . .  	Number	0026	
INT_FASTCON  . . . . . . . . . .  	Number	0029	
INT_FATAL_ABORT  . . . . . . . .  	Number	0024	
INT_KEEP_PROCESS . . . . . . . .  	Number	0027	
INT_SPOOLER  . . . . . . . . . .  	Number	0028	
INT_TERMINATE  . . . . . . . . .  	Number	0022	
IOCTL  . . . . . . . . . . . . .  	Number	0044	
IOCTL_INVALID_DATA . . . . . . .  	Alias	 ERROR_INVALID_DATA		
IOCTL_INVALID_FUNCTION . . . . .  	Alias	 ERROR_INVALID_FUNCTION		
IOCTL_INVALID_HANDLE . . . . . .  	Alias	 ERROR_INVALID_HANDLE		
IO_SAVE  . . . . . . . . . . . .  	V WORD 	0000	DATARES	External
IRET22 . . . . . . . . . . . . .  	L NEAR	037A	INIT
ISADEVICE  . . . . . . . . . . .  	L NEAR	0122	INIT
ISCASB1  . . . . . . . . . . . .  	L NEAR	0364	INIT
ISCASB2  . . . . . . . . . . . .  	L NEAR	0368	INIT
ISCASBX  . . . . . . . . . . . .  	L NEAR	036A	INIT
ISCIN  . . . . . . . . . . . . .  	Number	0001	
ISCLOCK  . . . . . . . . . . . .  	Number	0008	
ISCOUT . . . . . . . . . . . . .  	Number	0002	
ISFATBYDEV . . . . . . . . . . .  	Number	2000	
ISIBM  . . . . . . . . . . . . .  	Number	0010	
ISNULL . . . . . . . . . . . . .  	Number	0004	
IUPCONV  . . . . . . . . . . . .  	L NEAR	0370	INIT
IUSESLASH  . . . . . . . . . . .  	L NEAR	006D	INIT

KANJI  . . . . . . . . . . . . .  	Alias	 FALSE		
KEEP_PROCESS . . . . . . . . . .  	Number	0031	

LBRPRI . . . . . . . . . . . . .  	Number	0002	
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Symbols-11
                                                             

LBWPRI . . . . . . . . . . . . .  	Number	0004	
LINPERPAG  . . . . . . . . . . .  	Number	0017	
LOADCOM  . . . . . . . . . . . .  	L NEAR	0000	CODERES	External
LOCKOPER . . . . . . . . . . . .  	Number	005C	
LODCOM . . . . . . . . . . . . .  	L NEAR	0000	CODERES	External
LOOPIT . . . . . . . . . . . . .  	L NEAR	01DC	INIT
LSEEK  . . . . . . . . . . . . .  	Number	0042	
LSEEK_INVALID_FUNCTION . . . . .  	Alias	 ERROR_INVALID_FUNCTION		
LSEEK_INVALID_HANDLE . . . . . .  	Alias	 ERROR_INVALID_HANDLE		
LTPA . . . . . . . . . . . . . .  	V WORD 	0000	DATARES	External

MEMSIZ . . . . . . . . . . . . .  	V WORD 	0000	DATARES	External
MI_INT . . . . . . . . . . . . .  	Number	00CD	
MI_LONG_CALL . . . . . . . . . .  	Number	009A	
MI_LONG_JMP  . . . . . . . . . .  	Number	00EA	
MI_LONG_RET  . . . . . . . . . .  	Number	00CB	
MKDIR  . . . . . . . . . . . . .  	Number	0039	
MKDIR_ACCESS_DENIED  . . . . . .  	Alias	 ERROR_ACCESS_DENIED		
MKDIR_PATH_NOT_FOUND . . . . . .  	Alias	 ERROR_PATH_NOT_FOUND		
MSVER  . . . . . . . . . . . . .  	Alias	 TRUE		
MYSEG  . . . . . . . . . . . . .  	V WORD 	0000	DATARES	External
MYSEG1 . . . . . . . . . . . . .  	V WORD 	0000	DATARES	External
MYSEG2 . . . . . . . . . . . . .  	V WORD 	0000	DATARES	External

NEXTCH . . . . . . . . . . . . .  	L NEAR	00C9	INIT
NEXTCH2  . . . . . . . . . . . .  	L NEAR	00EB	INIT
NEXTCH3  . . . . . . . . . . . .  	L NEAR	00D6	INIT
NOABAT . . . . . . . . . . . . .  	L NEAR	02ED	INIT
NOAUTSET . . . . . . . . . . . .  	L NEAR	02CC	INIT
NOCOMDRV . . . . . . . . . . . .  	L NEAR	009D	INIT
NODTTM . . . . . . . . . . . . .  	L NEAR	030B	INIT
NOPHEAD  . . . . . . . . . . . .  	L NEAR	02A5	INIT
NORMPERLIN . . . . . . . . . . .  	Number	0001	
NOTWIDENV  . . . . . . . . . . .  	L NEAR	0096	INIT
NO_ERROR_OCCURRED  . . . . . . .  	Text  0                                                              ?		

OEM_C1 . . . . . . . . . . . . .  	Number	00F9	
OEM_C2 . . . . . . . . . . . . .  	Number	00FA	
OEM_C3 . . . . . . . . . . . . .  	Number	00FB	
OEM_C4 . . . . . . . . . . . . .  	Number	00FC	
OEM_C5 . . . . . . . . . . . . .  	Number	00FD	
OEM_C6 . . . . . . . . . . . . .  	Number	00FE	
OEM_C7 . . . . . . . . . . . . .  	Number	00FF	
OPEN . . . . . . . . . . . . . .  	Number	003D	
OPEN_ACCESS_DENIED . . . . . . .  	Alias	 ERROR_ACCESS_DENIED		
OPEN_FILE_NOT_FOUND  . . . . . .  	Alias	 ERROR_FILE_NOT_FOUND		
OPEN_FOR_BOTH  . . . . . . . . .  	Number	0002	
OPEN_FOR_READ  . . . . . . . . .  	Number	0000	
OPEN_FOR_WRITE . . . . . . . . .  	Number	0001	
OPEN_INVALID_ACCESS  . . . . . .  	Alias	 ERROR_INVALID_ACCESS		
OPEN_TOO_MANY_OPEN_FILES . . . .  	Alias	 ERROR_TOO_MANY_OPEN_FILES		

PARENT . . . . . . . . . . . . .  	V WORD 	0000	DATARES	External
PARSE_FILE_DESCRIPTOR  . . . . .  	Number	0029	
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Symbols-12
                                                             

PATHCHRCMPR  . . . . . . . . . .  	L NEAR	030E	INIT
PATHSTRING . . . . . . . . . . .  	V BYTE 	0000	ENVIRONMENT	External
PERMCOM  . . . . . . . . . . . .  	V BYTE 	0000	DATARES	External
PRDATTM  . . . . . . . . . . . .  	L BYTE 	03A8	INIT
PSWITCH  . . . . . . . . . . . .  	Number	0002	

RAW_CON_INPUT  . . . . . . . . .  	Number	0007	
RAW_CON_IO . . . . . . . . . . .  	Number	0006	
RCCLLOOP . . . . . . . . . . . .  	L NEAR	0136	INIT
READ . . . . . . . . . . . . . .  	Number	003F	
READ_ACCESS_DENIED . . . . . . .  	Alias	 ERROR_ACCESS_DENIED		
READ_INVALID_HANDLE  . . . . . .  	Alias	 ERROR_INVALID_HANDLE		
RENAME . . . . . . . . . . . . .  	Number	0056	
RENAME_ACCESS_DENIED . . . . . .  	Alias	 ERROR_ACCESS_DENIED		
RENAME_FILE_NOT_FOUND  . . . . .  	Alias	 ERROR_FILE_NOT_FOUND		
RENAME_NOT_SAME_DEVICE . . . . .  	Alias	 ERROR_NOT_SAME_DEVICE		
RET41  . . . . . . . . . . . . .  	L NEAR	031B	INIT
RMDIR  . . . . . . . . . . . . .  	Number	003A	
RMDIR_ACCESS_DENIED  . . . . . .  	Alias	 ERROR_ACCESS_DENIED		
RMDIR_CURRENT_DIRECTORY  . . . .  	Alias	 ERROR_CURRENT_DIRECTORY		
RMDIR_PATH_NOT_FOUND . . . . . .  	Alias	 ERROR_PATH_NOT_FOUND		
RNOSLASHT  . . . . . . . . . . .  	L NEAR	0319	INIT
RPRI . . . . . . . . . . . . . .  	Number	0006	
RSTACK . . . . . . . . . . . . .  	V WORD 	0000	CODERES	External
RSWITCHAR  . . . . . . . . . . .  	V BYTE 	0000	DATARES	External

SERVERCALL . . . . . . . . . . .  	Number	005D	
SETBLOCK . . . . . . . . . . . .  	Number	004A	
SETBLOCK_ARENA_TRASHED . . . . .  	Alias	 ERROR_ARENA_TRASHED		
SETBLOCK_INVALID_BLOCK . . . . .  	Alias	 ERROR_INVALID_BLOCK		
SETBLOCK_INVALID_FUNCTION  . . .  	Alias	 ERROR_INVALID_FUNCTION		
SETBLOCK_NOT_ENOUGH_MEMORY . . .  	Alias	 ERROR_NOT_ENOUGH_MEMORY		
SETCDEV  . . . . . . . . . . . .  	L NEAR	0104	INIT
SETCDEVA . . . . . . . . . . . .  	L NEAR	0103	INIT
SETCOMSR . . . . . . . . . . . .  	L NEAR	0183	INIT
SETCOMSRBAD  . . . . . . . . . .  	L NEAR	01B4	INIT
SETCOMSRRET  . . . . . . . . . .  	L NEAR	01AD	INIT
SETDPB . . . . . . . . . . . . .  	Number	0053	
SETPERM  . . . . . . . . . . . .  	L NEAR	01CC	INIT
SETVECT  . . . . . . . . . . . .  	L NEAR	0000	CODERES	External
SET_CTRL_C_TRAPPING  . . . . . .  	Number	0033	
SET_CURRENT_PDB  . . . . . . . .  	Number	0050	
SET_DATE . . . . . . . . . . . .  	Number	002B	
SET_DEFAULT_DRIVE  . . . . . . .  	Number	000E	
SET_DMA  . . . . . . . . . . . .  	Number	001A	
SET_INTERRUPT_VECTOR . . . . . .  	Number	0025	
SET_OEM_HANDLER  . . . . . . . .  	Number	00F8	
SET_TIME . . . . . . . . . . . .  	Number	002D	
SET_VERIFY_ON_WRITE  . . . . . .  	Number	002E	
SF_DEFAULT_NUMBER  . . . . . . .  	Number	0005	
SINGLECOM  . . . . . . . . . . .  	V WORD 	0000	DATARES	External
STBUI  . . . . . . . . . . . . .  	Number	0200	
STDAUX . . . . . . . . . . . . .  	Number	0003	
STDERR . . . . . . . . . . . . .  	Number	0002	
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:20

COMMAND Initialization                                      Symbols-13
                                                             

STDIN  . . . . . . . . . . . . .  	Number	0000	
STDON  . . . . . . . . . . . . .  	Number	0100	
STDOUT . . . . . . . . . . . . .  	Number	0001	
STDPRN . . . . . . . . . . . . .  	Number	0004	
STD_AUX_INPUT  . . . . . . . . .  	Number	0003	
STD_AUX_OUTPUT . . . . . . . . .  	Number	0004	
STD_CON_INPUT  . . . . . . . . .  	Number	0001	
STD_CON_INPUT_FLUSH  . . . . . .  	Number	000C	
STD_CON_INPUT_NO_ECHO  . . . . .  	Number	0008	
STD_CON_INPUT_STATUS . . . . . .  	Number	000B	
STD_CON_OUTPUT . . . . . . . . .  	Number	0002	
STD_CON_STRING_INPUT . . . . . .  	Number	000A	
STD_CON_STRING_OUTPUT  . . . . .  	Number	0009	
STD_PRINTER_OUTPUT . . . . . . .  	Number	0005	
STECODE  . . . . . . . . . . . .  	Number	00FF	
STERR  . . . . . . . . . . . . .  	Number	8000	
SUM  . . . . . . . . . . . . . .  	V WORD 	0000	DATARES	External
SYM  . . . . . . . . . . . . . .  	Number	003E	

TRANSPACEEND . . . . . . . . . .  	V BYTE 	0000	TRANSPACE	External
TRNSEG . . . . . . . . . . . . .  	V WORD 	0000	DATARES	External
TRUE . . . . . . . . . . . . . .  	Number	FFFF	

UNLINK . . . . . . . . . . . . .  	Number	0041	
UNLINK_ACCESS_DENIED . . . . . .  	Alias	 ERROR_ACCESS_DENIED		
UNLINK_FILE_NOT_FOUND  . . . . .  	Alias	 ERROR_FILE_NOT_FOUND		
USERIDOPER . . . . . . . . . . .  	Number	005E	

VSWITCH  . . . . . . . . . . . .  	Number	0010	

WAIT . . . . . . . . . . . . . .  	Number	004D	
WIDEPERLIN . . . . . . . . . . .  	Number	0005	
WPRI . . . . . . . . . . . . . .  	Number	0008	
WRECODE  . . . . . . . . . . . .  	Number	0000	
WRITE  . . . . . . . . . . . . .  	Number	0040	
WRITE_ACCESS_DENIED  . . . . . .  	Alias	 ERROR_ACCESS_DENIED		
WRITE_INVALID_HANDLE . . . . . .  	Alias	 ERROR_INVALID_HANDLE		
WSWITCH  . . . . . . . . . . . .  	Number	0001	

XDUP . . . . . . . . . . . . . .  	Number	0045	
XDUP2  . . . . . . . . . . . . .  	Number	0046	

ZERO . . . . . . . . . . . . . .  	NEAR 	0000	INIT


   2332 Source  Lines
   2399 Total   Lines
    668 Symbols

  16198 Bytes symbol space free

      0 Warning Errors
      0 Severe  Errors
