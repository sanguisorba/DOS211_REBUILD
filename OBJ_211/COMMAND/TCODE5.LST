Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-1
                                                            

       1                                TITLE   PART5 - COMMAND Transient routi
					nes. 
       2                                 
       3                             C          INCLUDE COMSW.ASM 
       4                             C  ; Use the following booleans to set ass
					embly flags 
       5 = 0000                      C  FALSE   EQU     0 
       6 = FFFF                      C  TRUE    EQU     NOT FALSE 
       7                             C   
       8 =                           C  IBMVER  EQU     false  ; Switch to buil
					d IBM version of Command 
       9 =                           C  IBM     EQU     IBMVER 
      10 =                           C  MSVER   EQU     true   ; Switch to buil
					d MS-DOS version of Command 
      11                             C   
      12 =                           C  HIGHMEM EQU     FALSE   ; Run resident 
					part above transient (high memory) 
      13 =                           C  KANJI   EQU     false   ; Support for d
					ual byte Microsoft KANJI standard 
      14 =                              IBMJAPAN        EQU     FALSE   ;MUST B
					E TRUE (along with IBM and KANJI) 
      15                                 
      16                                .list 
      17                                .cref 
      18                                 
      19                             C          INCLUDE COMEQU.ASM 
      20                             C  ;************************************* 
      21                             C  ; COMMAND EQUs which are not switch dep
					endant 
      22                             C   
      23                             C  IFDEF   IBM 
      24                             C          INCLUDE IFEQU.ASM 
      25                             C  ;************************************* 
      26                             C  ; COMMAND EQUs which are switch dependa
					nt 
      27                             C   
      28                             C  ENDIF 
      29                             C   
      30                             C  ENDIF 
      31                             C   
      32                             C   
      33 = 003E                      C  SYM     EQU     ">" 
      34                             C   
      35 = 0017                      C  LINPERPAG       EQU     23 
      36 = 0001                      C  NORMPERLIN      EQU     1 
      37 = 0005                      C  WIDEPERLIN      EQU     5 
      38 = 0080                      C  COMBUFLEN       EQU     128     ; Lengt
					h of commmand buffer 
      39                             C   
      40 = 003A                      C  DRVCHAR         EQU     ":" 
      41                             C   
      42 = 005C                      C  FCB     EQU     5CH 
      43                             C   
      44                             C  VARSTRUC        STRUC 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-2
DEVICE TABLE AND SRH DEFINITION                             

      45 0000  ??                    C  ISDIR   DB      ? 
      46 0001  ??                    C  SIZ     DB      ? 
      47 0002  ????                  C  TTAIL   DW      ? 
      48 0004  ??                    C  INFO    DB      ? 
      49 0005  0054[                 C  BUF     DB      DIRSTRLEN + 20 DUP (?) 
      50            ??               C  
      51                         ]   C  
      52                             C  
      53 0059                        C  VARSTRUC        ENDS 
      54                             C   
      55 = 0001                      C  WSWITCH EQU     1               ; Wide 
					display during DIR 
      56 = 0002                      C  PSWITCH EQU     2               ; Pause
					 (or Page) mode during DIR 
      57 = 0004                      C  ASWITCH EQU     4               ; ASCII
					 mode during COPY 
      58 = 0008                      C  BSWITCH EQU     8               ; Binar
					y mode during COPY 
      59 = 0010                      C  VSWITCH EQU     10H             ; Verif
					y switch 
      60 = 8000                      C  GOTSWITCH EQU   8000H           ; Meta 
					switch set if switch character encounte
					red 
      61                                 
      62                                 
      63 0000                           CODERES SEGMENT PUBLIC 
      64                                 
      65                                        ENDIF 
      66                                 
      67 0000                           CODERES ENDS 
      68                                 
      69                                 
      70 0000                           DATARES SEGMENT PUBLIC 
      71                                        EXTRN   BATCH:WORD,BATLOC:DWORD
					,BATBYT:BYTE,ECHOFLAG:BYTE 
      72                                        EXTRN   SINGLECOM:WORD,RE_OUTST
					R:BYTE,PIPEFLAG:BYTE,PIPEPTR:WORD 
      73                                        EXTRN   RE_INSTR:BYTE,RE_OUT_AP
					P:BYTE,PARMBUF:BYTE,PIPESTR:BYTE 
      74                                        EXTRN   LTPA:WORD,ENVIRSEG:WORD
					 
      75 0000                           DATARES ENDS 
      76                                 
      77 0000                           TRANDATA        SEGMENT PUBLIC 
      78                                        EXTRN   PIPEEMES:BYTE,NULPATH:B
					YTE,NOSPACE:BYTE 
      79                                        EXTRN   DBACK:BYTE,PROMPT_TABLE
					:BYTE 
      80 0000                           TRANDATA        ENDS 
      81                                 
      82 0000                           TRANSPACE       SEGMENT PUBLIC 
      83                                        EXTRN   PATHCNT:WORD,PATHPOS:WO
					RD,PATHSW:WORD 
      84                                        EXTRN   DESTISDIR:BYTE,DESTTAIL
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-3
DEVICE TABLE AND SRH DEFINITION                             

					:WORD,DESTINFO:BYTE 
      85                                        EXTRN   BATHAND:WORD,RESSEG:WOR
					D,TPA:WORD,SWITCHAR:BYTE 
      86                                        EXTRN   BYTCNT:WORD,COMBUF:BYTE
					,DIRBUF:BYTE,CHARBUF:BYTE 
      87                                 
      88                                 
      89                                        ENDIF 
      90                                 
      91 0000                           TRANSPACE       ENDS 
      92                                 
      93                                 
      94 0000                           TRANCODE        SEGMENT PUBLIC BYTE 
      95                                ASSUME  CS:TRANGROUP,DS:NOTHING,ES:NOTH
					ING,SS:NOTHING 
      96                                 
      97                                        ENDIF 
      98                                 
      99                                        EXTRN   CERROR:NEAR,UPCONV:NEAR
					,PIPEERRSYN:NEAR,SETREST1:NEAR 
     100                                        EXTRN   SWITCH:NEAR,SETREST1:NE
					AR,BATCLOSE:NEAR,MOVE_NAME:NEAR 
     101                                        EXTRN   FIND_PROMPT:NEAR,FIND_P
					ATH:NEAR,DELETE_PATH:NEAR 
     102                                        EXTRN   STORE_CHAR:NEAR,SCAN_DO
					UBLE_NULL:NEAR,SCASB2:NEAR 
     103                                        EXTRN   PRINT_DRIVE:NEAR,SAVUDI
					R:NEAR,CRLF2:NEAR,PAUSE:NEAR 
     104                                  
     105                                        PUBLIC  PRINT_B,PRINT_G,DISPSIZ
					E,GETNUM,OUTBYTE 
     106                                        PUBLIC  DELIM,OUT,OUT2,SETPATH,
					PATHCRUNCH 
     107                                        PUBLIC  CRPRINT,SCANOFF,FCB_TO_
					ASCZ 
     108                                        PUBLIC  PRINT_L,PATH,PATHCHRCMP
					,PRINT_ESC,PRINT_BACK 
     109                                        PUBLIC  PRINT_EQ,PRINT,ZPRINT,P
					RINT_PROMPT 
     110                                        PUBLIC  DISP32BITS,ERROR_PRINT,
					ERROR_OUTPUT 
     111                                        PUBLIC  FREE_TPA,ALLOC_TPA,PRES
					CAN,GETBATBYT 
     112                                 
     113                                 
     114 0000                           FREE_TPA: 
     115                                ASSUME  DS:TRANGROUP,ES:NOTHING 
     116 0000  06                               PUSH    ES 
     117 0001  8E 06 0000 E                     MOV     ES,[TPA] 
     118 0005  B4 49                            MOV     AH,DEALLOC 
     119 0007  CD 21                            INT     int_command            
					 ; Make lots of free memory 
     120 0009  07                               POP     ES 
     121                                        return 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-4
DEVICE TABLE AND SRH DEFINITION                             

     122 000A                         1 ??0000:
     123 000A  C3                     1  RET
     124                                 
     125 000B                           ALLOC_TPA: 
     126                                ASSUME DS:TRANGROUP,ES:RESGROUP 
     127 000B  BB FFFF                          MOV     BX,0FFFFH       ; Re-al
					locate the transient 
     128 000E  B4 48                            MOV     AH,ALLOC 
     129 0010  CD 21                            INT     int_command 
     130 0012  B4 48                            MOV     AH,ALLOC 
     131 0014  CD 21                            INT     int_command 
     132 0016  26: A3 0000 E                    MOV     [LTPA],AX       ; Re-co
					mpute evrything 
     133 001A  A3 0000 E                        MOV     [TPA],AX 
     134 001D  8B D8                            MOV     BX,AX 
     135 001F  8C C8                            MOV     AX,CS 
     136 0021  2B C3                            SUB     AX,BX 
     137 0023  BA 0010                          MOV     DX,16 
     138 0026  F7 E2                            MUL     DX 
     139 0028  0B D2                            OR      DX,DX 
     140 002A  74 03                            JZ      SAVSIZ2 
     141 002C  B8 FFFF                          MOV     AX,-1 
     142 002F                           SAVSIZ2: 
     143 002F  A3 0000 E                        MOV     [BYTCNT],AX 
     144                                        return 
     145 0032                         1 ??0001:
     146 0032  C3                     1  RET
     147                                 
     148                                 
     149 0033                           PRESCAN:                        ; Cook 
					the input buffer 
     150                                ASSUME  DS:TRANGROUP,ES:TRANGROUP 
     151 0033  33 C9                            XOR     CX,CX 
     152 0035  8E 06 0000 E                     MOV     ES,[RESSEG] 
     153                                ASSUME  ES:RESGROUP 
     154 0039  BE 0002 E                        MOV     SI,OFFSET TRANGROUP:COM
					BUF+2 
     155 003C  8B FE                            MOV     DI,SI 
     156                                 
     157 003E                           CountQuotes: 
     158 003E  AC                               LODSB                          
					 ; get a byte 
     159 003F  3C 22                            CMP     AL,22h                 
					 ; is it a quote? 
     160 0041  75 04                            JNZ     CountEnd               
					 ; no, try for end of road 
     161 0043  FE C5                            INC     CH                     
					 ; bump count 
     162 0045  EB F7                            JMP     CountQuotes            
					 ; go get next char 
     163 0047                           CountEnd: 
     164 0047  3C 0D                            CMP     AL,13                  
					 ; end of road? 
     165 0049  75 F3                            JNZ     CountQuotes            
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-5
DEVICE TABLE AND SRH DEFINITION                             

					 ; no, go back for next char 
     166                                 
     167                                        ENDIF 
     168                                 
     169 004B  8B F7                            MOV     SI,DI                  
					 ; restore pointer to begining 
     170 004D                           PRESCANLP: 
     171 004D  AC                               LODSB 
     172                                 
     173                                        ENDIF 
     174                                 
     175 004E  3C 22                            CMP     AL,22H          ; " cha
					racter 
     176 0050  75 10                            JNZ     TRYGREATER 
     177 0052  FE CD                            DEC     CH 
     178 0054  74 0C                            JZ      TRYGREATER 
     179 0056                           QLOOP: 
     180 0056  88 05                            MOV     [DI],AL 
     181 0058  47                               INC     DI 
     182 0059  FE C1                            INC     CL 
     183 005B  AC                               LODSB 
     184 005C  3C 22                            CMP     AL,22H          ; " cha
					racter 
     185 005E  75 F6                            JNZ     QLOOP 
     186 0060  FE CD                            DEC     CH 
     187                                 
     188 0062                           TRYGREATER: 
     189 0062  3C 3E                            CMP     AL,'>' 
     190 0064  75 32                            JNZ     NOOUT 
     191 0066  80 3C 3E                         CMP     BYTE PTR [SI],'>' 
     192 0069  75 06                            JNZ     NOAPPND 
     193 006B  AC                               LODSB 
     194 006C  26: FE 06 0000 E                 INC     [RE_OUT_APP]           
					 ; Flag >> 
     195 0071                           NOAPPND: 
     196 0071  E8 026A R                        CALL    SCANOFF 
     197 0074  3C 0D                            CMP     AL,0DH 
     198 0076  75 09                            JNZ     GOTREOFIL 
     199 0078  26: C7 06 0000 E 0009            MOV     WORD PTR [RE_OUTSTR],09
					H     ; Cause an error later 
     200 007F  EB 68                            JMP     SHORT PRESCANEND 
     201 0081                           GOTREOFIL: 
     202 0081  57                               PUSH    DI 
     203 0082  BF 0000 E                        MOV     DI,OFFSET RESGROUP:RE_O
					UTSTR 
     204 0085                           SETREOUTSTR:                           
					 ; Get the output redirection name 
     205 0085  AC                               LODSB 
     206 0086  3C 0D                            CMP     AL,0DH 
     207 0088  74 44                            JZ      GOTRESTR 
     208 008A  E8 0272 R                        CALL    DELIM 
     209 008D  74 3F                            JZ      GOTRESTR 
     210 008F  3A 06 0000 E                     CMP     AL,[SWITCHAR] 
     211 0093  74 39                            JZ      GOTRESTR 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-6
DEVICE TABLE AND SRH DEFINITION                             

     212 0095  AA                               STOSB                          
					 ; store it into resgroup 
     213 0096  EB ED                            JMP     SHORT SETREOUTSTR 
     214                                 
     215 0098                           NOOUT: 
     216 0098  3C 3C                            CMP     AL,'<' 
     217 009A  75 16                            JNZ     CHKPIPE 
     218 009C  E8 026A R                        CALL    SCANOFF 
     219 009F  3C 0D                            CMP     AL,0DH 
     220 00A1  75 09                            JNZ     GOTREIFIL 
     221 00A3  26: C7 06 0000 E 0009            MOV     WORD PTR [RE_INSTR],09H
					 ; Cause an error later 
     222 00AA  EB 3D                            JMP     SHORT PRESCANEND 
     223 00AC                           GOTREIFIL: 
     224 00AC  57                               PUSH    DI 
     225 00AD  BF 0000 E                        MOV     DI,OFFSET RESGROUP:RE_I
					NSTR 
     226 00B0  EB D3                            JMP     SHORT SETREOUTSTR      
					 ; Get the input redirection name 
     227                                 
     228 00B2                           CHKPIPE: 
     229 00B2  8A E0                            MOV     AH,AL 
     230 00B4  80 FC 7C                         CMP     AH,'|' 
     231 00B7  75 23                            JNZ     CONTPRESCAN 
     232 00B9  26: FE 06 0000 E                 INC     [PIPEFLAG] 
     233 00BE  E8 026A R                        CALL    SCANOFF 
     234 00C1  3C 0D                            CMP     AL,0DH 
     235 00C3  74 04                            JZ      PIPEERRSYNJ5 
     236 00C5  3C 7C                            CMP     AL,'|'          ; Doubl
					e '|'? 
     237 00C7  75 13                            JNZ     CONTPRESCAN 
     238 00C9                           PIPEERRSYNJ5: 
     239 00C9  06                               PUSH    ES 
     240 00CA  1F                               POP     DS              ; DS->R
					ESGROUP 
     241 00CB  E9 0000 E                        JMP     PIPEERRSYN 
     242                                 
     243 00CE                           GOTRESTR: 
     244 00CE  86 E0                            XCHG    AH,AL 
     245 00D0  26: 80 7D FF 3A                  CMP     BYTE PTR ES:[DI-1],':' 
					 ; Trailing ':' OK on devices 
     246 00D5  75 01                            JNZ     NOTTRAILCOL 
     247 00D7  4F                               DEC     DI              ; Back 
					up over trailing ':' 
     248 00D8                           NOTTRAILCOL: 
     249 00D8  32 C0                            XOR     AL,AL 
     250 00DA  AA                               STOSB                   ; NUL t
					erminate the string 
     251 00DB  5F                               POP     DI              ; Remem
					ber the start 
     252 00DC                           CONTPRESCAN: 
     253 00DC  88 25                            MOV     [DI],AH         ; "dele
					te" the redirection string 
     254 00DE  47                               INC     DI 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-7
DEVICE TABLE AND SRH DEFINITION                             

     255 00DF  80 FC 0D                         CMP     AH,0DH 
     256 00E2  74 05                            JZ      PRESCANEND 
     257 00E4  FE C1                            INC     CL 
     258 00E6  E9 004D R                        JMP     PRESCANLP 
     259 00E9                           PRESCANEND: 
     260 00E9  26: 80 3E 0000 E 00              CMP     [PIPEFLAG],0 
     261 00EF  74 14                            JZ      ISNOPIPE 
     262 00F1  BF 0000 E                        MOV     DI,OFFSET RESGROUP:PIPE
					STR 
     263 00F4  26: 89 3E 0000 E                 MOV     [PIPEPTR],DI 
     264 00F9  BE 0002 E                        MOV     SI,OFFSET TRANGROUP:COM
					BUF+2 
     265 00FC  E8 026A R                        CALL    SCANOFF 
     266 00FF                           PIPESETLP:                      ; Trans
					fer the pipe into the resident pipe buf
					fer 
     267 00FF  AC                               LODSB 
     268 0100  AA                               STOSB 
     269 0101  3C 0D                            CMP     AL,0DH 
     270 0103  75 FA                            JNZ     PIPESETLP 
     271 0105                           ISNOPIPE: 
     272 0105  88 0E 0001 E                     MOV     [COMBUF+1],CL 
     273 0109  26: 80 3E 0000 E 00              CMP     [PIPEFLAG],0 
     274 010F  0E                               PUSH    CS 
     275 0110  07                               POP     ES 
     276                                        return 
     277 0111                         1 ??0002:
     278 0111  C3                     1  RET
     279                                 
     280                                ASSUME  DS:TRANGROUP,ES:TRANGROUP 
     281                                 
     282 0112                           PATHCHRCMP: 
     283 0112  80 3E 0000 E 2F                  CMP     [SWITCHAR],'/' 
     284 0117  74 04                            JZ      NOSLASHT 
     285 0119  3C 2F                            CMP     AL,'/' 
     286                                        retz 
     287 011B  74 F4                  2  ??0003: jz ret_l
     288 011D                           NOSLASHT: 
     289 011D  3C 5C                            CMP     AL,'\' 
     290                                        return 
     291 011F                         1 ??0005:
     292 011F  C3                     1  RET
     293                                 
     294 0120                           PATHCRUNCH: 
     295                                ; Drive taken from FCB 
     296                                ; DI = Dirsave pointer 
     297                                ; 
     298                                ; Zero set if path dir, CHDIR to this d
					ir, FCB filled with ? 
     299                                ; NZ set if path/file, CHDIR to file, F
					CB has file (parsed fill ' ') 
     300                                ;       [DESTTAIL] points to parse poin
					t 
     301                                ; Carry set if no CHDIRs worked, FCB no
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-8
DEVICE TABLE AND SRH DEFINITION                             

					t altered. 
     302                                ; DESTISDIR set non zero if PATHCHRs in
					 path (via SETPATH) 
     303                                 
     304 0120  8A 16 005C                       MOV     DL,DS:[FCB] 
     305 0124  E8 0000 E                        CALL    SAVUDIR 
     306 0127  E8 02F4 R                        CALL    SETPATH 
     307 012A  F6 06 0000 E 02                  TEST    [DESTINFO],2 
     308 012F  75 16                            JNZ     TRYPEEL         ; If ? 
					or * cannot be pure dir 
     309 0131  B4 3B                            MOV     AH,CHDIR 
     310 0133  CD 21                            INT     int_command 
     311 0135  72 10                            JC      TRYPEEL 
     312 0137  E8 0000 E                        CALL    SETREST1 
     313 013A  B0 3F                            MOV     AL,"?"          ; *.* i
					s default file spec if pure dir 
     314 013C  BF 005D                          MOV     DI,5DH 
     315 013F  B9 000B                          MOV     CX,11 
     316 0142  F3/ AA                           REP     STOSB 
     317 0144  32 C0                            XOR     AL,AL           ; Set z
					ero 
     318                                        return 
     319 0146                         1 ??0006:
     320 0146  C3                     1  RET
     321                                 
     322 0147                           TRYPEEL: 
     323 0147  8B 36 0000 E                     MOV     SI,[PATHPOS] 
     324 014B  4E                               DEC     SI              ; Point
					 at NUL 
     325 014C  8A 44 FF                         MOV     AL,[SI-1] 
     326                                 
     327                                        ENDIF 
     328                                 
     329 014F  E8 0112 R                        CALL    PATHCHRCMP 
     330 0152  74 20                            JZ      PEELFAIL               
					 ; Trailing '/' 
     331                                 
     332                                        ELSE 
     333 0154                           DELLOOP: 
     334 0154  3B F2                            CMP     SI,DX 
     335 0156  74 28                            JZ      BADRET 
     336 0158  8A 04                            MOV     AL,[SI] 
     337 015A  E8 0112 R                        CALL    PATHCHRCMP 
     338 015D  74 03                            JZ      TRYCD 
     339 015F  4E                               DEC     SI 
     340 0160  EB F2                            JMP     SHORT DELLOOP 
     341                                        ENDIF 
     342                                 
     343 0162                           TRYCD: 
     344 0162  80 7C 01 2E                      CMP     BYTE PTR [SI+1],'.' 
     345 0166  74 0C                            JZ      PEELFAIL               
					 ; If . or .., pure cd should have work
					ed 
     346 0168  8A 44 FF                         mov     al,[si-1] 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-9
DEVICE TABLE AND SRH DEFINITION                             

     347 016B  3C 3A                            CMP     al,DRVCHAR             
					     ; Special case dDRVCHAR,DIRCHARfil
					e 
     348 016D  74 11                            JZ      BADRET 
     349                                 
     350                                        ENDIF 
     351                                 
     352 016F  E8 0112 R                        CALL    PATHCHRCMP 
     353 0172  75 02                            JNZ     NOTDOUBLESL 
     354 0174                           PEELFAIL: 
     355 0174  F9                               STC                            
					     ; // 
     356                                        return 
     357 0175                         1 ??0007:
     358 0175  C3                     1  RET
     359 0176                           NOTDOUBLESL: 
     360 0176  C6 04 00                         MOV     BYTE PTR [SI],0 
     361 0179  B4 3B                            MOV     AH,CHDIR 
     362 017B  CD 21                            INT     int_command 
     363 017D  73 17                            JNC     CDSUCC 
     364                                        return 
     365 017F                         1 ??0008:
     366 017F  C3                     1  RET
     367                                 
     368 0180                           BADRET: 
     369 0180  8A 04                            MOV     AL,[SI] 
     370 0182  E8 0112 R                        CALL    PATHCHRCMP             
					 ; Special case 'DIRCHAR'file 
     371 0185  F9                               STC 
     372                                        retnz 
     373 0186  75 F7                  2  ??0009: jnz ret_l
     374 0188  32 DB                            XOR     BL,BL 
     375 018A  86 5C 01                         XCHG    BL,[SI+1] 
     376 018D  B4 3B                            MOV     AH,CHDIR 
     377 018F  CD 21                            INT     int_command 
     378                                        retc 
     379 0191  72 EC                  2  ??000B: jc ret_l
     380 0193  88 5C 01                         MOV     [SI+1],BL 
     381 0196                           CDSUCC: 
     382 0196  E8 0000 E                        CALL    SETREST1 
     383 0199  46                               INC     SI                     
					 ; Reset zero 
     384 019A  89 36 0000 E                     MOV     [DESTTAIL],SI 
     385 019E  BF 005C                          MOV     DI,FCB 
     386 01A1  B8 2902                          MOV     AX,(PARSE_FILE_DESCRIPT
					OR SHL 8) OR 02H   ; Parse with default
					 drive 
     387 01A4  CD 21                            INT     int_command 
     388                                        return 
     389 01A6                         1 ??000D:
     390 01A6  C3                     1  RET
     391                                 
     392                                 
     393 01A7                           DISPSIZE: 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-10
DEVICE TABLE AND SRH DEFINITION                             

     394 01A7  8B 36 0024 E                     MOV     SI,WORD PTR[DIRBUF+29+7
					] 
     395 01AB  8B 3E 0026 E                     MOV     DI,WORD PTR[DIRBUF+31+7
					] 
     396                                 
     397 01AF                           DISP32BITS: 
     398                                ; Prints the 32-bit number DI:SI on the
					 console in decimal. Uses a total 
     399                                ; of 9 digit positions with leading bla
					nks. 
     400 01AF  33 C0                            XOR     AX,AX 
     401 01B1  8B D8                            MOV     BX,AX 
     402 01B3  8B E8                            MOV     BP,AX 
     403 01B5  B9 0020                          MOV     CX,32 
     404 01B8                           CONVLP: 
     405 01B8  D1 E6                            SHL     SI,1 
     406 01BA  D1 D7                            RCL     DI,1 
     407 01BC  95                               XCHG    AX,BP 
     408 01BD  E8 020F R                        CALL    CONVWRD 
     409 01C0  95                               XCHG    AX,BP 
     410 01C1  93                               XCHG    AX,BX 
     411 01C2  E8 020F R                        CALL    CONVWRD 
     412 01C5  93                               XCHG    AX,BX 
     413 01C6  14 00                            ADC     AL,0 
     414 01C8  E2 EE                            LOOP    CONVLP 
     415                                 
     416                                ; Conversion complete. Print 9-digit nu
					mber. 
     417                                 
     418 01CA  BF 0000 E                        MOV     DI,OFFSET TRANGROUP:CHA
					RBUF 
     419 01CD  B9 1810                          MOV     CX,1810H        ; Allow
					 leading zero blanking for 8 digits 
     420 01D0  92                               XCHG    DX,AX 
     421 01D1  E8 01FB R                        CALL    DIGIT 
     422 01D4  93                               XCHG    AX,BX 
     423 01D5  E8 01E5 R                        CALL    OUTWORD 
     424 01D8  95                               XCHG    AX,BP 
     425 01D9  E8 01E5 R                        CALL    OUTWORD 
     426 01DC  33 C0                            XOR     AX,AX 
     427 01DE  AA                               STOSB 
     428 01DF  BA 0000 E                        MOV     DX,OFFSET TRANGROUP:CHA
					RBUF 
     429 01E2  E9 0469 R                        JMP     ZPRINT 
     430                                 
     431 01E5                           OUTWORD: 
     432 01E5  50                               PUSH    AX 
     433 01E6  8A D4                            MOV     DL,AH 
     434 01E8  E8 01EC R                        CALL    OUTBYTE 
     435 01EB  5A                               POP     DX 
     436 01EC                           OUTBYTE: 
     437 01EC  8A F2                            MOV     DH,DL 
     438 01EE  D0 EA                            SHR     DL,1 
     439 01F0  D0 EA                            SHR     DL,1 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-11
DEVICE TABLE AND SRH DEFINITION                             

     440 01F2  D0 EA                            SHR     DL,1 
     441 01F4  D0 EA                            SHR     DL,1 
     442 01F6  E8 01FB R                        CALL    DIGIT 
     443 01F9  8A D6                            MOV     DL,DH 
     444 01FB                           DIGIT: 
     445 01FB  80 E2 0F                         AND     DL,0FH 
     446 01FE  74 02                            JZ      BLANKZER 
     447 0200  B1 00                            MOV     CL,0 
     448 0202                           BLANKZER: 
     449 0202  FE CD                            DEC     CH 
     450 0204  22 CD                            AND     CL,CH 
     451 0206  80 CA 30                         OR      DL,30H 
     452 0209  2A D1                            SUB     DL,CL 
     453 020B  8A C2                            MOV     AL,DL 
     454 020D  AA                               STOSB 
     455                                        return 
     456 020E                         1 ??000E:
     457 020E  C3                     1  RET
     458                                 
     459 020F                           CONVWRD: 
     460 020F  12 C0                            ADC     AL,AL 
     461 0211  27                               DAA 
     462 0212  86 C4                            XCHG    AL,AH 
     463 0214  12 C0                            ADC     AL,AL 
     464 0216  27                               DAA 
     465 0217  86 C4                            XCHG    AL,AH 
     466                                        return 
     467 0219                         1 ??000F:
     468 0219  C3                     1  RET
     469                                 
     470                                 
     471 021A                           GETBATBYT: 
     472                                ; Get one byte from the batch file and 
					return it in AL. End-of-file 
     473                                ; returns <CR> and ends batch mode. DS 
					must be set to resident segment. 
     474                                ; AH, CX, DX destroyed. 
     475                                ASSUME  DS:RESGROUP 
     476 021A  83 06 0000 E 01                  ADD     WORD PTR [BATLOC],1    
					 ; Add one to file location 
     477 021F  83 16 0002 E 00                  ADC     WORD PTR [BATLOC+2],0 
     478 0224  53                               PUSH    BX 
     479 0225  BA 0000 E                        MOV     DX,OFFSET RESGROUP:BATB
					YT 
     480 0228  26: 8B 1E 0000 E                 MOV     BX,[BATHAND] 
     481 022D  B4 3F                            MOV     AH,READ 
     482 022F  B9 0001                          MOV     CX,1 
     483 0232  CD 21                            INT     int_command            
					  ; Get one more byte from batch file 
     484 0234  5B                               POP     BX 
     485 0235  8B C8                            MOV     CX,AX 
     486 0237  72 09                            JC      BATEOF 
     487 0239  E3 07                            JCXZ    BATEOF 
     488 023B  A0 0000 E                        MOV     AL,[BATBYT] 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-12
DEVICE TABLE AND SRH DEFINITION                             

     489 023E  3C 1A                            CMP     AL,1AH 
     490                                        retnz 
     491 0240  75 D7                  2  ??0010: jnz ret_l
     492 0242                           BATEOF: 
     493 0242  06                               PUSH    ES 
     494 0243  8E 06 0000 E                     MOV     ES,[BATCH]      ; Turn 
					off batch 
     495 0247  B4 49                            MOV     AH,DEALLOC 
     496 0249  CD 21                            INT     int_command            
					 ; free up the batch piece 
     497 024B  07                               POP     ES 
     498 024C  C7 06 0000 E 0000                MOV     [BATCH],0       ; AFTER
					 DEALLOC in case of ^C 
     499 0252  E8 0000 E                        CALL    BATCLOSE 
     500 0255  B0 0D                            MOV     AL,0DH          ; If en
					d-of-file, then end of line 
     501 0257  83 3E 0000 E F0                  CMP     [SINGLECOM],0FFF0H     
					 ; See if we need to set SINGLECOM 
     502 025C  75 06                            JNZ     NOSETSING2 
     503 025E  C7 06 0000 E FFFF                MOV     [SINGLECOM],-1  ; Cause
					 termination 
     504 0264                           NOSETSING2: 
     505 0264  C6 06 0000 E 01                  MOV     [ECHOFLAG],1 
     506                                        return 
     507 0269                         1 ??0012:
     508 0269  C3                     1  RET
     509                                ASSUME  DS:TRANGROUP 
     510                                 
     511 026A                           SCANOFF: 
     512 026A  AC                               LODSB 
     513 026B  E8 0272 R                        CALL    DELIM 
     514 026E  74 FA                            JZ      SCANOFF 
     515 0270  4E                               DEC     SI              ; Point
					 to first non-delimiter 
     516                                        return 
     517 0271                         1 ??0013:
     518 0271  C3                     1  RET
     519                                 
     520 0272                           DELIM: 
     521 0272  3C 20                            CMP     AL," " 
     522                                        retz 
     523 0274  74 FB                  2  ??0014: jz ret_l
     524 0276  3C 3D                            CMP     AL,"=" 
     525                                        retz 
     526 0278  74 F7                  2  ??0016: jz ret_l
     527 027A  3C 2C                            CMP     AL,"," 
     528                                        retz 
     529 027C  74 F3                  2  ??0018: jz ret_l
     530 027E  3C 3B                            CMP     AL,";" 
     531                                        retz 
     532 0280  74 EF                  2  ??001A: jz ret_l
     533 0282  3C 09                            CMP     AL,9            ; Check
					 for TAB character 
     534                                        return 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-13
DEVICE TABLE AND SRH DEFINITION                             

     535 0284                         1 ??001C:
     536 0284  C3                     1  RET
     537                                 
     538                                 
     539 0285                           PRINT_PROMPT: 
     540 0285  1E                               PUSH    DS 
     541 0286  0E                               PUSH    CS 
     542 0287  1F                               POP     DS              ; MAKE 
					SURE DS IS IN TRANGROUP 
     543                                 
     544 0288  06                               PUSH    ES 
     545 0289  E8 0000 E                        CALL    FIND_PROMPT     ; LOOK 
					FOR PROMPT STRING 
     546 028C  72 06                            JC      PP0             ; CAN'T
					 FIND ONE 
     547 028E  26: 80 3D 00                     CMP     BYTE PTR ES:[DI],0 
     548 0292  75 0A                            JNZ     PP1 
     549 0294                           PP0: 
     550 0294  E8 0000 E                        CALL    PRINT_DRIVE     ; USE D
					EFAULT PROMPT 
     551 0297  B0 3E                            MOV     AL,SYM 
     552 0299  E8 0431 R                        CALL    OUT 
     553 029C  EB 38                            JMP     SHORT PP5 
     554                                 
     555 029E                           PP1: 
     556 029E  26: 8A 05                        MOV     AL,ES:[DI]      ; GET A
					 CHAR 
     557 02A1  47                               INC     DI 
     558 02A2  0A C0                            OR      AL,AL 
     559 02A4  74 30                            JZ      PP5             ; NUL T
					ERMINATED 
     560 02A6  3C 24                            CMP     AL,"$"          ; META 
					CHARACTER? 
     561 02A8  74 05                            JZ      PP2             ; NOPE 
     562 02AA                           PPP1: 
     563 02AA  E8 0431 R                        CALL    OUT 
     564 02AD  EB EF                            JMP     PP1 
     565                                 
     566 02AF                           PP2: 
     567 02AF  26: 8A 05                        MOV     AL,ES:[DI] 
     568 02B2  47                               INC     DI 
     569 02B3  BB FFFD E                        MOV     BX,OFFSET TRANGROUP:PRO
					MPT_TABLE-3 
     570 02B6  0A C0                            OR      AL,AL 
     571 02B8  74 1C                            JZ      PP5 
     572                                 
     573 02BA                           PP3: 
     574 02BA  83 C3 03                         ADD     BX,3 
     575 02BD  E8 0000 E                        CALL    UPCONV 
     576 02C0  3A 07                            CMP     AL,[BX] 
     577 02C2  74 07                            JZ      PP4 
     578 02C4  80 3F 00                         CMP     BYTE PTR [BX],0 
     579 02C7  75 F1                            JNZ     PP3 
     580 02C9  EB D3                            JMP     PP1 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-14
DEVICE TABLE AND SRH DEFINITION                             

     581                                 
     582 02CB                           PP4: 
     583 02CB  06                               PUSH    ES 
     584 02CC  57                               PUSH    DI 
     585 02CD  0E                               PUSH    CS 
     586 02CE  07                               POP     ES 
     587 02CF  FF 57 01                         CALL    [BX+1] 
     588 02D2  5F                               POP     DI 
     589 02D3  07                               POP     ES 
     590 02D4  EB C8                            JMP     PP1 
     591                                 
     592 02D6                           PP5: 
     593 02D6  07                               POP     ES              ; RESTO
					RE SEGMENTS 
     594 02D7  1F                               POP     DS 
     595                                        return 
     596 02D8                         1 ??001D:
     597 02D8  C3                     1  RET
     598                                 
     599 02D9                           PRINT_BACK: 
     600 02D9  BA 0000 E                        MOV     DX,OFFSET TRANGROUP:DBA
					CK 
     601 02DC  E9 0469 R                        JMP     ZPRINT 
     602                                 
     603 02DF                           PRINT_EQ: 
     604 02DF  B0 3D                            MOV     AL,"=" 
     605 02E1  EB 0E                            JMP     SHORT OUTV 
     606 02E3                           PRINT_ESC: 
     607 02E3  B0 1B                            MOV     AL,1BH 
     608 02E5  EB 0A                            JMP     SHORT OUTV 
     609 02E7                           PRINT_G: 
     610 02E7  B0 3E                            MOV     AL,">" 
     611 02E9  EB 06                            JMP     SHORT OUTV 
     612 02EB                           PRINT_L: 
     613 02EB  B0 3C                            MOV     AL,"<" 
     614 02ED  EB 02                            JMP     SHORT OUTV 
     615 02EF                           PRINT_B: 
     616 02EF  B0 7C                            MOV     AL,"|" 
     617 02F1                           OUTV: 
     618 02F1  E9 0431 R                        JMP     OUT 
     619                                 
     620 02F4                           SETPATH: 
     621                                ; Get an ASCIZ argument from the unform
					atted parms 
     622                                ; DESTISDIR set if pathchars in string 
     623                                ; DESTINFO  set if ? or * in string 
     624 02F4  BE 0080                          MOV     SI,80H 
     625 02F7  AC                               LODSB 
     626 02F8  32 E4                            XOR     AH,AH 
     627 02FA  A3 0000 E                        MOV     [PATHCNT],AX 
     628 02FD  89 36 0000 E                     MOV     [PATHPOS],SI 
     629 0301                           GETPATH: 
     630 0301  C6 06 0000 E 00                  MOV     [DESTINFO],0 
     631 0306  C6 06 0000 E 00                  MOV     [DESTISDIR],0 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-15
DEVICE TABLE AND SRH DEFINITION                             

     632 030B  8B 36 0000 E                     MOV     SI,[PATHPOS] 
     633 030F  8B 0E 0000 E                     MOV     CX,[PATHCNT] 
     634 0313  8B D6                            MOV     DX,SI 
     635 0315  E3 3B                            JCXZ    PATHDONE 
     636 0317  51                               PUSH    CX 
     637 0318  56                               PUSH    SI 
     638 0319  E8 0000 E                        CALL    SWITCH 
     639 031C  A3 0000 E                        MOV     [PATHSW],AX 
     640 031F  5B                               POP     BX 
     641 0320  2B DE                            SUB     BX,SI 
     642 0322  59                               POP     CX 
     643 0323  03 CB                            ADD     CX,BX 
     644 0325  8B D6                            MOV     DX,SI 
     645 0327                           SKIPPATH: 
     646                                 
     647                                        ENDIF 
     648                                 
     649 0327  E3 29                            JCXZ    PATHDONE 
     650 0329  49                               DEC     CX 
     651 032A  AC                               LODSB 
     652                                 
     653                                        ENDIF 
     654                                 
     655 032B  E8 0112 R                        CALL    PATHCHRCMP 
     656 032E  75 04                            JNZ     TESTPMETA 
     657 0330  FE 06 0000 E                     INC     [DESTISDIR] 
     658 0334                           TESTPMETA: 
     659 0334  3C 3F                            CMP     AL,'?' 
     660 0336  75 05                            JNZ     TESTPSTAR 
     661 0338  80 0E 0000 E 02                  OR      [DESTINFO],2 
     662 033D                           TESTPSTAR: 
     663 033D  3C 2A                            CMP     AL,'*' 
     664 033F  75 05                            JNZ     TESTPDELIM 
     665 0341  80 0E 0000 E 02                  OR      [DESTINFO],2 
     666 0346                           TESTPDELIM: 
     667 0346  E8 0272 R                        CALL    DELIM 
     668 0349  74 06                            JZ      PATHDONEDEC 
     669 034B  3A 06 0000 E                     CMP     AL,[SWITCHAR] 
     670 034F  75 D6                            JNZ     SKIPPATH 
     671 0351                           PATHDONEDEC: 
     672 0351  4E                               DEC     SI 
     673 0352                           PATHDONE: 
     674 0352  32 C0                            XOR     AL,AL 
     675 0354  86 04                            XCHG    AL,[SI] 
     676 0356  46                               INC     SI 
     677 0357  3C 0D                            CMP     AL,0DH 
     678 0359  75 02                            JNZ     NOPSTORE 
     679 035B  88 04                            MOV     [SI],AL       ;Don't lo
					ose the CR 
     680 035D                           NOPSTORE: 
     681 035D  89 36 0000 E                     MOV     [PATHPOS],SI 
     682 0361  89 0E 0000 E                     MOV     [PATHCNT],CX 
     683                                        return 
     684 0365                         1 ??001E:
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-16
DEVICE TABLE AND SRH DEFINITION                             

     685 0365  C3                     1  RET
     686                                 
     687 0366                           PGETARG: 
     688 0366  BE 0080                          MOV     SI,80H 
     689 0369  AC                               LODSB 
     690 036A  0A C0                            OR      AL,AL 
     691                                        retz 
     692 036C  74 F7                  2  ??001F: jz ret_l
     693 036E  E8 0374 R                        CALL    PSCANOFF 
     694 0371  3C 0D                            CMP     AL,13 
     695                                        return 
     696 0373                         1 ??0021:
     697 0373  C3                     1  RET
     698                                 
     699 0374                           PSCANOFF: 
     700 0374  AC                               LODSB 
     701 0375  E8 0272 R                        CALL    DELIM 
     702 0378  75 04                            JNZ     PSCANOFFD 
     703 037A  3C 3B                            CMP     AL,';' 
     704 037C  75 F6                            JNZ     PSCANOFF        ; ';' i
					s not a delimiter 
     705 037E                           PSCANOFFD: 
     706 037E  4E                               DEC     SI              ; Point
					 to first non-delimiter 
     707                                        return 
     708 037F                         1 ??0022:
     709 037F  C3                     1  RET
     710                                 
     711 0380                           PATH: 
     712 0380  E8 0000 E                        CALL    FIND_PATH 
     713 0383  E8 0366 R                        CALL    PGETARG         ; Pre s
					can for arguments 
     714 0386  74 2A                            JZ      DISPPATH        ; Print
					 the current path 
     715 0388  E8 0000 E                        CALL    DELETE_PATH     ; DELET
					E ANY OFFENDING NAME 
     716 038B  E8 0000 E                        CALL    SCAN_DOUBLE_NULL 
     717 038E  E8 0000 E                        CALL    MOVE_NAME       ; MOVE 
					IN PATH= 
     718 0391  E8 0366 R                        CALL    PGETARG 
     719 0394  3C 3B                            CMP     AL,';'          ; NUL p
					ath argument? 
     720 0396  74 16                            JZ      GOTPATHS 
     721 0398                           PATHSLP:                        ; Get t
					he user specified path 
     722 0398  AC                               LODSB 
     723 0399  3C 0D                            CMP     AL,0DH 
     724 039B  74 11                            JZ      GOTPATHS 
     725                                 
     726                                        ENDIF 
     727                                 
     728 039D  E8 0000 E                        CALL    UPCONV 
     729 03A0  3C 3B                            CMP     AL,';'          ; ';' n
					ot a delimiter on PATH 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-17
DEVICE TABLE AND SRH DEFINITION                             

     730 03A2  74 05                            JZ      NOTDELIM 
     731 03A4  E8 0272 R                        CALL    DELIM 
     732 03A7  74 05                            JZ      GOTPATHS 
     733 03A9                           NOTDELIM: 
     734 03A9  E8 0000 E                        CALL    STORE_CHAR 
     735 03AC  EB EA                            JMP     SHORT PATHSLP 
     736                                 
     737 03AE                           GOTPATHS: 
     738 03AE  33 C0                            XOR     AX,AX 
     739 03B0  AB                               STOSW 
     740                                        return 
     741 03B1                         1 ??0023:
     742 03B1  C3                     1  RET
     743                                 
     744 03B2                           DISPPATH: 
     745 03B2  E8 03B9 R                        CALL    PRINT_PATH 
     746 03B5  E8 0000 E                        CALL    CRLF2 
     747                                        return 
     748 03B8                         1 ??0024:
     749 03B8  C3                     1  RET
     750                                 
     751 03B9                           PRINT_PATH: 
     752 03B9  26: 80 3D 00                     CMP     BYTE PTR ES:[DI],0 
     753 03BD  75 08                            JNZ     PATH1 
     754 03BF                           PATH0: 
     755 03BF  BA 0000 E                        MOV     DX,OFFSET TRANGROUP:NUL
					PATH 
     756 03C2  0E                               PUSH    CS 
     757 03C3  1F                               POP     DS 
     758 03C4  E9 0464 R                        JMP     PRINT 
     759 03C7                           PATH1: 
     760 03C7  06                               PUSH    ES 
     761 03C8  1F                               POP     DS 
     762 03C9  83 EF 05                         SUB     DI,5 
     763 03CC  8B D7                            MOV     DX,DI 
     764                                ASSUME  DS:RESGROUP 
     765 03CE  E8 0000 E                        CALL    SCASB2                 
					 ; LOOK FOR NUL 
     766 03D1  81 F9 00FF                       CMP     CX,0FFH 
     767 03D5  74 E8                            JZ      PATH0 
     768 03D7  E9 0469 R                        JMP     ZPRINT 
     769                                 
     770 03DA                           FCB_TO_ASCZ:                           
					 ; Convert DS:SI to ASCIZ ES:DI 
     771 03DA  B9 0008                          MOV     CX,8 
     772 03DD                           MAINNAME: 
     773 03DD  AC                               LODSB 
     774 03DE  3C 20                            CMP     AL,' ' 
     775 03E0  74 01                            JZ      SKIPSPC 
     776 03E2  AA                               STOSB 
     777 03E3                           SKIPSPC: 
     778 03E3  E2 F8                            LOOP    MAINNAME 
     779 03E5  AC                               LODSB 
     780 03E6  3C 20                            CMP     AL,' ' 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-18
DEVICE TABLE AND SRH DEFINITION                             

     781 03E8  74 12                            JZ      GOTNAME 
     782 03EA  8A E0                            MOV     AH,AL 
     783 03EC  B0 2E                            MOV     AL,'.' 
     784 03EE  AA                               STOSB 
     785 03EF  86 C4                            XCHG    AL,AH 
     786 03F1  AA                               STOSB 
     787 03F2  B1 02                            MOV     CL,2 
     788 03F4                           EXTNAME: 
     789 03F4  AC                               LODSB 
     790 03F5  3C 20                            CMP     AL,' ' 
     791 03F7  74 03                            JZ      GOTNAME 
     792 03F9  AA                               STOSB 
     793 03FA  E2 F8                            LOOP    EXTNAME 
     794                                 
     795 03FC                           GOTNAME: 
     796 03FC  32 C0                            XOR     AL,AL 
     797 03FE  AA                               STOSB 
     798                                        return 
     799 03FF                         1 ??0025:
     800 03FF  C3                     1  RET
     801                                 
     802 0400                           GETNUM: 
     803 0400  E8 0413 R                        CALL    INDIG 
     804                                        retc 
     805 0403  72 FA                  2  ??0026: jc ret_l
     806 0405  8A E0                            MOV     AH,AL           ; Save 
					first digit 
     807 0407  E8 0413 R                        CALL    INDIG           ; Anoth
					er digit? 
     808 040A  72 04                            JC      OKRET 
     809 040C  D5 0A                            AAD                     ; Conve
					rt unpacked BCD to decimal 
     810 040E  8A E0                            MOV     AH,AL 
     811 0410                           OKRET: 
     812 0410  0C 01                            OR      AL,1 
     813                                        return 
     814 0412                         1 ??0028:
     815 0412  C3                     1  RET
     816                                 
     817 0413                           INDIG: 
     818 0413  8A 04                            MOV     AL,BYTE PTR[SI] 
     819 0415  2C 30                            SUB     AL,"0" 
     820                                        retc 
     821 0417  72 F9                  2  ??0029: jc ret_l
     822 0419  3C 0A                            CMP     AL,10 
     823 041B  F5                               CMC 
     824                                        retc 
     825 041C  72 F4                  2  ??002B: jc ret_l
     826 041E  46                               INC     SI 
     827                                        return 
     828 041F                         1 ??002D:
     829 041F  C3                     1  RET
     830                                 
     831                                 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-19
DEVICE TABLE AND SRH DEFINITION                             

     832 0420                           OUT2:   ; Output binary number as two A
					SCII digits 
     833 0420  D4 0A                            AAM                     ; Conve
					rt binary to unpacked BCD 
     834 0422  86 C4                            XCHG    AL,AH 
     835 0424  0D 3030                          OR      AX,3030H        ; Add "
					0" bias to both digits 
     836 0427  3C 30                            CMP     AL,"0"          ; Is MS
					D zero? 
     837 0429  75 02                            JNZ     NOSUP 
     838 042B  2A C7                            SUB     AL,BH           ; Suppr
					ess leading zero if enabled 
     839 042D                           NOSUP: 
     840 042D  B7 00                            MOV     BH,0            ; Disab
					le zero suppression 
     841 042F  AB                               STOSW 
     842                                        return 
     843 0430                         1 ??002E:
     844 0430  C3                     1  RET
     845                                 
     846 0431                           OUT: 
     847                                ; Print char in AL without affecting re
					gisters 
     848 0431  92                               XCHG    AX,DX 
     849 0432  50                               PUSH    AX 
     850 0433  E8 0439 R                        CALL    OUT_CHAR 
     851 0436  58                               POP     AX 
     852 0437  92                               XCHG    AX,DX 
     853                                        return 
     854 0438                         1 ??002F:
     855 0438  C3                     1  RET
     856                                 
     857 0439                           OUT_CHAR: 
     858 0439  1E                               PUSH    DS 
     859 043A  52                               PUSH    DX 
     860 043B  51                               PUSH    CX 
     861 043C  53                               PUSH    BX 
     862 043D  50                               PUSH    AX 
     863 043E  0E                               PUSH    CS 
     864 043F  1F                               POP     DS 
     865 0440  BB 0000 E                        MOV     BX,OFFSET TRANGROUP:CHA
					RBUF 
     866 0443  88 17                            MOV     [BX],DL 
     867 0445  8B D3                            MOV     DX,BX 
     868 0447  BB 0001                          MOV     BX,1 
     869 044A  8B CB                            MOV     CX,BX 
     870 044C  B4 40                            MOV     AH,WRITE 
     871 044E  CD 21                            INT     int_command 
     872 0450  58                               POP     AX 
     873 0451  5B                               POP     BX 
     874 0452  59                               POP     CX 
     875 0453  5A                               POP     DX 
     876 0454  1F                               POP     DS 
     877                                        return 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-20
DEVICE TABLE AND SRH DEFINITION                             

     878 0455                         1 ??0030:
     879 0455  C3                     1  RET
     880                                 
     881                                 
     882 0456                           ERROR_PRINT: 
     883 0456  50                               PUSH    AX 
     884 0457  53                               PUSH    BX 
     885 0458  B0 24                            MOV     AL,"$" 
     886 045A  BB 0002                          MOV     BX,2            ;STD ER
					ROR 
     887 045D  EB 11                            JMP     SHORT STRING_OUT 
     888                                 
     889 045F                           CRPRINT: 
     890 045F  50                               PUSH    AX 
     891 0460  B0 0D                            MOV     AL,13 
     892 0462  EB 08                            JMP     SHORT Z$PRINT 
     893 0464                           PRINT:                          ;$ TERM
					INATED STRING 
     894 0464  50                               PUSH    AX 
     895 0465  B0 24                            MOV     AL,"$" 
     896 0467  EB 03                            JMP     SHORT Z$PRINT 
     897 0469                           ZPRINT: 
     898 0469  50                               PUSH    AX 
     899 046A  33 C0                            XOR     AX,AX           ;NUL TE
					RMINATED STRING 
     900 046C                           Z$PRINT: 
     901 046C  53                               PUSH    BX 
     902 046D  BB 0001                          MOV     BX,1            ;STD CO
					N OUT 
     903                                ; 
     904                                ; output string terminated by AL to han
					dle BX, DS:DX points to string 
     905                                ; 
     906 0470                           STRING_OUT: 
     907 0470  51                               PUSH    CX 
     908 0471  57                               PUSH    DI 
     909 0472  8B FA                            MOV     DI,DX 
     910 0474  B9 FFFF                          MOV     CX,-1 
     911 0477  06                               PUSH    ES 
     912 0478  1E                               PUSH    DS 
     913 0479  07                               POP     ES 
     914 047A  F2/ AE                           REPNZ   SCASB           ; LOOK 
					FOR TERMINATOR 
     915 047C  07                               POP     ES 
     916 047D  F7 D9                            NEG     CX 
     917 047F  49                               DEC     CX 
     918 0480  49                               DEC     CX 
     919                                ; 
     920                                ; WRITE CHARS AT DS:DX TO HANDLE IN BX,
					 COUNT IN CX 
     921                                ; 
     922 0481  B4 40                            MOV     AH,WRITE 
     923 0483  CD 21                            INT     int_command 
     924 0485  72 09                            JC      ERROR_OUTPUT 
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Page     1-21
DEVICE TABLE AND SRH DEFINITION                             

     925 0487  3B C1                            CMP     AX,CX 
     926 0489  75 05                            JNZ     ERROR_OUTPUT 
     927 048B  5F                               POP     DI 
     928 048C  59                               POP     CX 
     929 048D  5B                               POP     BX 
     930 048E  58                               POP     AX 
     931                                        return 
     932 048F                         1 ??0031:
     933 048F  C3                     1  RET
     934                                 
     935 0490                           ERROR_OUTPUT: 
     936 0490  0E                               PUSH    CS 
     937 0491  1F                               POP     DS 
     938                                ASSUME  DS:TRANGROUP 
     939 0492  8E 06 0000 E                     MOV     ES,[RESSEG] 
     940                                ASSUME  ES:RESGROUP 
     941 0496  BA 0000 E                        MOV     DX,OFFSET TRANGROUP:NOS
					PACE 
     942 0499  26: 80 3E 0000 E 00              CMP     [PIPEFLAG],0 
     943 049F  74 09                            JZ      GO_TO_ERROR 
     944 04A1  26: C6 06 0000 E 00              MOV     [PIPEFLAG],0 
     945 04A7  BA 0000 E                        MOV     DX,OFFSET TRANGROUP:PIP
					EEMES 
     946 04AA                           GO_TO_ERROR: 
     947 04AA  E9 0000 E                        JMP     CERROR 
     948                                 
     949                                 
     950 04AD                           TRANCODE    ENDS 
     951                                            END 

Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Symbols-1
                                                             

Macros:

		N a m e			Lines

BREAK  . . . . . . . . . . . . .  	   2
CONDRET  . . . . . . . . . . . .  	  19
CONTEXT  . . . . . . . . . . . .  	   3
DO_EXT . . . . . . . . . . . . .  	   0
ENTRY  . . . . . . . . . . . . .  	   2
ERROR  . . . . . . . . . . . . .  	   4
INVOKE . . . . . . . . . . . . .  	   8
I_AM . . . . . . . . . . . . . .  	  14
I_NEED . . . . . . . . . . . . .  	  11
JUMP . . . . . . . . . . . . . .  	  17
LONG_ADDR  . . . . . . . . . . .  	   7
MAKELAB  . . . . . . . . . . . .  	   4
PROCEDURE  . . . . . . . . . . .  	   2
RETC . . . . . . . . . . . . . .  	   1
RETNC  . . . . . . . . . . . . .  	   1
RETNZ  . . . . . . . . . . . . .  	   1
RETURN . . . . . . . . . . . . .  	   5
RETZ . . . . . . . . . . . . . .  	   1
SHORT_ADDR . . . . . . . . . . .  	  12
TRANSFER . . . . . . . . . . . .  	   8

Structures and Records:

                N a m e                 Width   # fields
                                        Shift   Width   Mask    Initial

ARENA  . . . . . . . . . . . . .  	0005	0003
  ARENA_SIGNATURE  . . . . . . .  	0000
  ARENA_OWNER  . . . . . . . . .  	0001
  ARENA_SIZE . . . . . . . . . .  	0003
BPBLOCK  . . . . . . . . . . . .  	000D	0008
  BPSECSZ  . . . . . . . . . . .  	0000
  BPCLUS . . . . . . . . . . . .  	0002
  BPRES  . . . . . . . . . . . .  	0003
  BPFTCNT  . . . . . . . . . . .  	0005
  BPDRCNT  . . . . . . . . . . .  	0006
  BPSCCNT  . . . . . . . . . . .  	0008
  BPMEDIA  . . . . . . . . . . .  	000A
  BPFTSEC  . . . . . . . . . . .  	000B
BUFFINFO . . . . . . . . . . . .  	0010	0009
  NEXTBUF  . . . . . . . . . . .  	0000
  BUFDRV . . . . . . . . . . . .  	0004
  BUFDIRTY . . . . . . . . . . .  	0005
  BUFPRI . . . . . . . . . . . .  	0006
  VISIT  . . . . . . . . . . . .  	0007
  BUFSECNO . . . . . . . . . . .  	0008
  BUFWRTCNT  . . . . . . . . . .  	000A
  BUFWRTINC  . . . . . . . . . .  	000B
  BUFDRVDP . . . . . . . . . . .  	000C
DIR_ENTRY  . . . . . . . . . . .  	0020	0008
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Symbols-2
                                                             

  DIR_NAME . . . . . . . . . . .  	0000
  DIR_ATTR . . . . . . . . . . .  	000B
  DIR_PAD  . . . . . . . . . . .  	000C
  DIR_TIME . . . . . . . . . . .  	0016
  DIR_DATE . . . . . . . . . . .  	0018
  DIR_FIRST  . . . . . . . . . .  	001A
  DIR_SIZE_L . . . . . . . . . .  	001C
  DIR_SIZE_H . . . . . . . . . .  	001E
DPB  . . . . . . . . . . . . . .  	005E	0012
  DPB_DRIVE  . . . . . . . . . .  	0000
  DPB_UNIT . . . . . . . . . . .  	0001
  DPB_SECTOR_SIZE  . . . . . . .  	0002
  DPB_CLUSTER_MASK . . . . . . .  	0004
  DPB_CLUSTER_SHIFT  . . . . . .  	0005
  DPB_FIRST_FAT  . . . . . . . .  	0006
  DPB_FAT_COUNT  . . . . . . . .  	0008
  DPB_ROOT_ENTRIES . . . . . . .  	0009
  DPB_FIRST_SECTOR . . . . . . .  	000B
  DPB_MAX_CLUSTER  . . . . . . .  	000D
  DPB_FAT_SIZE . . . . . . . . .  	000F
  DPB_DIR_SECTOR . . . . . . . .  	0010
  DPB_DRIVER_ADDR  . . . . . . .  	0012
  DPB_MEDIA  . . . . . . . . . .  	0016
  DPB_FIRST_ACCESS . . . . . . .  	0017
  DPB_NEXT_DPB . . . . . . . . .  	0018
  DPB_CURRENT_DIR  . . . . . . .  	001C
  DPB_DIR_TEXT . . . . . . . . .  	001E
EXEC0  . . . . . . . . . . . . .  	000E	0004
  EXEC0_ENVIRON  . . . . . . . .  	0000
  EXEC0_COM_LINE . . . . . . . .  	0002
  EXEC0_5C_FCB . . . . . . . . .  	0006
  EXEC0_6C_FCB . . . . . . . . .  	000A
EXEC1  . . . . . . . . . . . . .  	0016	0008
  EXEC1_ENVIRON  . . . . . . . .  	0000
  EXEC1_COM_LINE . . . . . . . .  	0002
  EXEC1_5C_FCB . . . . . . . . .  	0006
  EXEC1_6C_FCB . . . . . . . . .  	000A
  EXEC1_SP . . . . . . . . . . .  	000E
  EXEC1_SS . . . . . . . . . . .  	0010
  EXEC1_IP . . . . . . . . . . .  	0012
  EXEC1_CS . . . . . . . . . . .  	0014
EXEC3  . . . . . . . . . . . . .  	0004	0002
  EXEC3_LOAD_ADDR  . . . . . . .  	0000
  EXEC3_RELOC_FAC  . . . . . . .  	0002
EXE_FILE . . . . . . . . . . . .  	0020	000F
  EXE_SIGNATURE  . . . . . . . .  	0000
  EXE_LEN_MOD_512  . . . . . . .  	0002
  EXE_PAGES  . . . . . . . . . .  	0004
  EXE_RLE_COUNT  . . . . . . . .  	0006
  EXE_PAR_DIR  . . . . . . . . .  	0008
  EXE_MIN_BSS  . . . . . . . . .  	000A
  EXE_MAX_BSS  . . . . . . . . .  	000C
  EXE_SS . . . . . . . . . . . .  	000E
  EXE_SP . . . . . . . . . . . .  	0010
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Symbols-3
                                                             

  EXE_CHKSUM . . . . . . . . . .  	0012
  EXE_IP . . . . . . . . . . . .  	0014
  EXE_CS . . . . . . . . . . . .  	0016
  EXE_RLE_TABLE  . . . . . . . .  	0018
  EXE_IOV  . . . . . . . . . . .  	001A
  EXE_SYM_TAB  . . . . . . . . .  	001C
FIND_BUF . . . . . . . . . . . .  	002B	000C
  FIND_BUF_SATTR . . . . . . . .  	0000
  FIND_BUF_DRIVE . . . . . . . .  	0001
  FIND_BUF_NAME  . . . . . . . .  	0002
  FIND_BUF_LASTENT . . . . . . .  	000D
  FIND_BUF_THISDPB . . . . . . .  	000F
  FIND_BUF_DIRSTART  . . . . . .  	0013
  FIND_BUF_ATTR  . . . . . . . .  	0015
  FIND_BUF_TIME  . . . . . . . .  	0016
  FIND_BUF_DATE  . . . . . . . .  	0018
  FIND_BUF_SIZE_L  . . . . . . .  	001A
  FIND_BUF_SIZE_H  . . . . . . .  	001C
  FIND_BUF_PNAME . . . . . . . .  	001E
INTERNAT_BLOCK . . . . . . . . .  	0018	0015
  DATE_TIM_FORMAT  . . . . . . .  	0000
  CURRENCY_SYM . . . . . . . . .  	0002
  THOUS_SEP  . . . . . . . . . .  	0007
  DECIMAL_SEP  . . . . . . . . .  	0009
  DATE_SEP . . . . . . . . . . .  	000B
  TIME_SEP . . . . . . . . . . .  	000D
  BIT_FEILD  . . . . . . . . . .  	000F
  CURRENCY_CENTS . . . . . . . .  	0010
  TIME_24  . . . . . . . . . . .  	0011
  MAP_CALL . . . . . . . . . . .  	0012
  DATA_SEP . . . . . . . . . . .  	0016
PROCESS_DATA_BLOCK . . . . . . .  	005B	000E
  PDB_EXIT_CALL  . . . . . . . .  	0000
  PDB_BLOCK_LEN  . . . . . . . .  	0002
  PDB_CPM_CALL . . . . . . . . .  	0005
  PDB_EXIT . . . . . . . . . . .  	000A
  PDB_CTRL_C . . . . . . . . . .  	000E
  PDB_FATAL_ABORT  . . . . . . .  	0012
  PDB_PARENT_PID . . . . . . . .  	0016
  PDB_JFN_TABLE  . . . . . . . .  	0018
  PDB_ENVIRON  . . . . . . . . .  	002C
  PDB_USER_STACK . . . . . . . .  	002E
  PDB_PAD1 . . . . . . . . . . .  	0032
  PDB_CALL_SYSTEM  . . . . . . .  	0050
  PDB_PAD2 . . . . . . . . . . .  	0055
SFT  . . . . . . . . . . . . . .  	0008	0003
  SFT_LINK . . . . . . . . . . .  	0000
  SFT_COUNT  . . . . . . . . . .  	0004
  SFT_TABLE  . . . . . . . . . .  	0006
SF_ENTRY . . . . . . . . . . . .  	0028	0004
  SF_REF_COUNT . . . . . . . . .  	0000
  SF_MODE  . . . . . . . . . . .  	0001
  SF_ATTR  . . . . . . . . . . .  	0002
  SF_FCB . . . . . . . . . . . .  	0003
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Symbols-4
                                                             

SRHEAD . . . . . . . . . . . . .  	000D	0005
  REQLEN . . . . . . . . . . . .  	0000
  REQUNIT  . . . . . . . . . . .  	0001
  REQFUNC  . . . . . . . . . . .  	0002
  REQSTAT  . . . . . . . . . . .  	0003
SYMBOL_ENTRY . . . . . . . . . .  	0106	0004
  SYM_VALUE  . . . . . . . . . .  	0000
  SYM_TYPE . . . . . . . . . . .  	0004
  SYM_LEN  . . . . . . . . . . .  	0006
  SYM_NAME . . . . . . . . . . .  	0007
SYSDEV . . . . . . . . . . . . .  	0012	0005
  SDEVNEXT . . . . . . . . . . .  	0000
  SDEVATT  . . . . . . . . . . .  	0004
  SDEVSTRAT  . . . . . . . . . .  	0006
  SDEVINT  . . . . . . . . . . .  	0008
  SDEVNAME . . . . . . . . . . .  	000A
SYS_FCB  . . . . . . . . . . . .  	0025	0010
  FCB_DRIVE  . . . . . . . . . .  	0000
  FCB_NAME . . . . . . . . . . .  	0001
  FCB_EXT  . . . . . . . . . . .  	0009
  FCB_EXTENT . . . . . . . . . .  	000C
  FCB_RECSIZ . . . . . . . . . .  	000E
  FCB_FILSIZ . . . . . . . . . .  	0010
  FCB_DRVBP  . . . . . . . . . .  	0012
  FCB_FDATE  . . . . . . . . . .  	0014
  FCB_FTIME  . . . . . . . . . .  	0016
  FCB_DEVID  . . . . . . . . . .  	0018
  FCB_FIRCLUS  . . . . . . . . .  	0019
  FCB_CLUSPOS  . . . . . . . . .  	001B
  FCB_LSTCLUS  . . . . . . . . .  	001D
  FCB_NR . . . . . . . . . . . .  	0020
  FCB_RR . . . . . . . . . . . .  	0021
USER_ENVIRON . . . . . . . . . .  	0018	000C
  USER_AX  . . . . . . . . . . .  	0000
  USER_BX  . . . . . . . . . . .  	0002
  USER_CX  . . . . . . . . . . .  	0004
  USER_DX  . . . . . . . . . . .  	0006
  USER_SI  . . . . . . . . . . .  	0008
  USER_DI  . . . . . . . . . . .  	000A
  USER_BP  . . . . . . . . . . .  	000C
  USER_DS  . . . . . . . . . . .  	000E
  USER_ES  . . . . . . . . . . .  	0010
  USER_IP  . . . . . . . . . . .  	0012
  USER_CS  . . . . . . . . . . .  	0014
  USER_F . . . . . . . . . . . .  	0016
VARSTRUC . . . . . . . . . . . .  	0059	0005
  ISDIR  . . . . . . . . . . . .  	0000
  SIZ  . . . . . . . . . . . . .  	0001
  TTAIL  . . . . . . . . . . . .  	0002
  INFO . . . . . . . . . . . . .  	0004
  BUF  . . . . . . . . . . . . .  	0005
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Symbols-5
                                                             

Segments and Groups:

                N a m e         	Size	Align	Combine Class

EGROUP . . . . . . . . . . . . .  	GROUP
  ZEXEC_CODE . . . . . . . . . .  	0000	PARA	PUBLIC	
  ZEXEC_DATA . . . . . . . . . .  	0000	PARA	PUBLIC	
RESGROUP . . . . . . . . . . . .  	GROUP
  CODERES  . . . . . . . . . . .  	0000	PARA	PUBLIC	
  DATARES  . . . . . . . . . . .  	0000	PARA	PUBLIC	
  ENVIRONMENT  . . . . . . . . .  	0000	PARA	PUBLIC	
  INIT . . . . . . . . . . . . .  	0000	PARA	PUBLIC	
  TAIL . . . . . . . . . . . . .  	0000	PARA	PUBLIC	
TRANGROUP  . . . . . . . . . . .  	GROUP
  TRANCODE . . . . . . . . . . .  	04AD	BYTE	PUBLIC	
  TRANDATA . . . . . . . . . . .  	0000	PARA	PUBLIC	
  TRANSPACE  . . . . . . . . . .  	0000	PARA	PUBLIC	
  TRANTAIL . . . . . . . . . . .  	0000	PARA	PUBLIC	

Symbols:            

                N a m e         	Type	Value	Attr         

ABORT  . . . . . . . . . . . . .  	Number	0000	
ADDR_INT_ABORT . . . . . . . . .  	Number	0080	
ADDR_INT_COMMAND . . . . . . . .  	Number	0084	
ADDR_INT_CTRL_C  . . . . . . . .  	Number	008C	
ADDR_INT_DISK_READ . . . . . . .  	Number	0094	
ADDR_INT_DISK_WRITE  . . . . . .  	Number	0098	
ADDR_INT_FASTCON . . . . . . . .  	Number	00A4	
ADDR_INT_FATAL_ABORT . . . . . .  	Number	0090	
ADDR_INT_KEEP_PROCESS  . . . . .  	Number	009C	
ADDR_INT_SPOOLER . . . . . . . .  	Number	00A0	
ADDR_INT_TERMINATE . . . . . . .  	Number	0088	
ALLOC  . . . . . . . . . . . . .  	Number	0048	
ALLOCOPER  . . . . . . . . . . .  	Number	0058	
ALLOC_ARENA_TRASHED  . . . . . .  	Alias	 ERROR_ARENA_TRASHED		
ALLOC_NOT_ENOUGH_MEMORY  . . . .  	Alias	 ERROR_NOT_ENOUGH_MEMORY		
ALLOC_TPA  . . . . . . . . . . .  	L NEAR	000B	TRANCODE	Global
ALTVECT  . . . . . . . . . . . .  	Number	0000	
ARENA_OWNER_SYSTEM . . . . . . .  	Number	0000	
ARENA_SIGNATURE_END  . . . . . .  	Number	005A	
ARENA_SIGNATURE_NORMAL . . . . .  	Number	004D	
ASSIGNOPER . . . . . . . . . . .  	Number	005F	
ASWITCH  . . . . . . . . . . . .  	Number	0004	
ATTR_ALL . . . . . . . . . . . .  	Number	0016	
ATTR_ARCHIVE . . . . . . . . . .  	Number	0020	
ATTR_CHANGEABLE  . . . . . . . .  	Number	0027	
ATTR_DIRECTORY . . . . . . . . .  	Number	0010	
ATTR_HIDDEN  . . . . . . . . . .  	Number	0002	
ATTR_IGNORE  . . . . . . . . . .  	Number	0021	
ATTR_READ_ONLY . . . . . . . . .  	Number	0001	
ATTR_SYSTEM  . . . . . . . . . .  	Number	0004	
ATTR_VOLUME_ID . . . . . . . . .  	Number	0008	
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Symbols-6
                                                             


BADRET . . . . . . . . . . . . .  	L NEAR	0180	TRANCODE
BATBYT . . . . . . . . . . . . .  	V BYTE 	0000	DATARES	External
BATCH  . . . . . . . . . . . . .  	V WORD 	0000	DATARES	External
BATCLOSE . . . . . . . . . . . .  	L NEAR	0000	TRANCODE	External
BATEOF . . . . . . . . . . . . .  	L NEAR	0242	TRANCODE
BATHAND  . . . . . . . . . . . .  	V WORD 	0000	TRANSPACE	External
BATLOC . . . . . . . . . . . . .  	V DWORD	0000	DATARES	External
BLANKZER . . . . . . . . . . . .  	L NEAR	0202	TRANCODE
BSWITCH  . . . . . . . . . . . .  	Number	0008	
BUFINSIZ . . . . . . . . . . . .  	Number	0010	
BYTCNT . . . . . . . . . . . . .  	V WORD 	0000	TRANSPACE	External

CDSUCC . . . . . . . . . . . . .  	L NEAR	0196	TRANCODE
CERROR . . . . . . . . . . . . .  	L NEAR	0000	TRANCODE	External
CHARBUF  . . . . . . . . . . . .  	V BYTE 	0000	TRANSPACE	External
CHAR_OPER  . . . . . . . . . . .  	Number	0037	
CHDIR  . . . . . . . . . . . . .  	Number	003B	
CHDIR_PATH_NOT_FOUND . . . . . .  	Alias	 ERROR_PATH_NOT_FOUND		
CHKPIPE  . . . . . . . . . . . .  	L NEAR	00B2	TRANCODE
CHMOD  . . . . . . . . . . . . .  	Number	0043	
CHMOD_ACCESS_DENIED  . . . . . .  	Alias	 ERROR_ACCESS_DENIED		
CHMOD_INVALID_FUNCTION . . . . .  	Alias	 ERROR_INVALID_FUNCTION		
CHMOD_PATH_NOT_FOUND . . . . . .  	Alias	 ERROR_PATH_NOT_FOUND		
CLOSE  . . . . . . . . . . . . .  	Number	003E	
CLOSE_INVALID_FUNCTION . . . . .  	Alias	 ERROR_INVALID_FUNCTION		
CLOSE_INVALID_HANDLE . . . . . .  	Alias	 ERROR_INVALID_HANDLE		
COMBUF . . . . . . . . . . . . .  	V BYTE 	0000	TRANSPACE	External
COMBUFLEN  . . . . . . . . . . .  	Number	0080	
CONTPRESCAN  . . . . . . . . . .  	L NEAR	00DC	TRANCODE
CONVLP . . . . . . . . . . . . .  	L NEAR	01B8	TRANCODE
CONVWRD  . . . . . . . . . . . .  	L NEAR	020F	TRANCODE
COUNTEND . . . . . . . . . . . .  	L NEAR	0047	TRANCODE
COUNTQUOTES  . . . . . . . . . .  	L NEAR	003E	TRANCODE
COUNTRY_NOT_FOUND  . . . . . . .  	Alias	 ERROR_FILE_NOT_FOUND		
CREAT  . . . . . . . . . . . . .  	Number	003C	
CREATENEWFILE  . . . . . . . . .  	Number	005B	
CREATETEMPFILE . . . . . . . . .  	Number	005A	
CREATE_PROCESS_DATA_BLOCK  . . .  	Number	0026	
CREAT_ACCESS_DENIED  . . . . . .  	Alias	 ERROR_ACCESS_DENIED		
CREAT_PATH_NOT_FOUND . . . . . .  	Alias	 ERROR_PATH_NOT_FOUND		
CREAT_TOO_MANY_OPEN_FILES  . . .  	Alias	 ERROR_TOO_MANY_OPEN_FILES		
CRLF2  . . . . . . . . . . . . .  	L NEAR	0000	TRANCODE	External
CRPRINT  . . . . . . . . . . . .  	L NEAR	045F	TRANCODE	Global
CURDIR_INVALID_DRIVE . . . . . .  	Alias	 ERROR_INVALID_DRIVE		
CURRENT_DIR  . . . . . . . . . .  	Number	0047	
C_BS . . . . . . . . . . . . . .  	Number	0008	
C_CR . . . . . . . . . . . . . .  	Number	000D	
C_DEL  . . . . . . . . . . . . .  	Number	007F	
C_ETB  . . . . . . . . . . . . .  	Number	0017	
C_ETX  . . . . . . . . . . . . .  	Number	0003	
C_HT . . . . . . . . . . . . . .  	Number	0009	
C_LF . . . . . . . . . . . . . .  	Number	000A	
C_NAK  . . . . . . . . . . . . .  	Number	0015	
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Symbols-7
                                                             


DBACK  . . . . . . . . . . . . .  	V BYTE 	0000	TRANDATA	External
DBPBHL . . . . . . . . . . . . .  	Number	0016	
DEALLOC  . . . . . . . . . . . .  	Number	0049	
DEALLOC_ARENA_TRASHED  . . . . .  	Alias	 ERROR_ARENA_TRASHED		
DEALLOC_INVALID_BLOCK  . . . . .  	Alias	 ERROR_INVALID_BLOCK		
DELETE_PATH  . . . . . . . . . .  	L NEAR	0000	TRANCODE	External
DELIM  . . . . . . . . . . . . .  	L NEAR	0272	TRANCODE	Global
DELLOOP  . . . . . . . . . . . .  	L NEAR	0154	TRANCODE
DESTINFO . . . . . . . . . . . .  	V BYTE 	0000	TRANSPACE	External
DESTISDIR  . . . . . . . . . . .  	V BYTE 	0000	TRANSPACE	External
DESTTAIL . . . . . . . . . . . .  	V WORD 	0000	TRANSPACE	External
DEVBPB . . . . . . . . . . . . .  	Number	0002	
DEVID_BLOCK_DEV  . . . . . . . .  	Number	001F	
DEVID_DEVICE . . . . . . . . . .  	Number	0080	
DEVID_DEVICE_CLOCK . . . . . . .  	Number	0008	
DEVID_DEVICE_CON_IN  . . . . . .  	Number	0001	
DEVID_DEVICE_CON_OUT . . . . . .  	Number	0002	
DEVID_DEVICE_EOF . . . . . . . .  	Number	0040	
DEVID_DEVICE_NULL  . . . . . . .  	Number	0004	
DEVID_DEVICE_RAW . . . . . . . .  	Number	0020	
DEVID_DEVICE_SPECIAL . . . . . .  	Number	0010	
DEVID_EOF  . . . . . . . . . . .  	Number	0040	
DEVID_FILE_CLEAN . . . . . . . .  	Number	0040	
DEVID_FILE_MASK_DRIVE  . . . . .  	Number	003F	
DEVID_ISCIN  . . . . . . . . . .  	Number	0001	
DEVID_ISCLK  . . . . . . . . . .  	Number	0008	
DEVID_ISCOT  . . . . . . . . . .  	Number	0002	
DEVID_ISDEV  . . . . . . . . . .  	Number	0080	
DEVID_ISNUL  . . . . . . . . . .  	Number	0004	
DEVID_RAW  . . . . . . . . . . .  	Number	0020	
DEVID_SPECIAL  . . . . . . . . .  	Number	0010	
DEVIFL . . . . . . . . . . . . .  	Number	0007	
DEVINIT  . . . . . . . . . . . .  	Number	0000	
DEVIOCTL . . . . . . . . . . . .  	Number	4000	
DEVIST . . . . . . . . . . . . .  	Number	0006	
DEVMDCH  . . . . . . . . . . . .  	Number	0001	
DEVOFL . . . . . . . . . . . . .  	Number	000B	
DEVOST . . . . . . . . . . . . .  	Number	000A	
DEVRD  . . . . . . . . . . . . .  	Number	0004	
DEVRDIOCTL . . . . . . . . . . .  	Number	0003	
DEVRDND  . . . . . . . . . . . .  	Number	0005	
DEVTYP . . . . . . . . . . . . .  	Number	8000	
DEVWRIOCTL . . . . . . . . . . .  	Number	000C	
DEVWRT . . . . . . . . . . . . .  	Number	0008	
DEVWRTV  . . . . . . . . . . . .  	Number	0009	
DFLSHL . . . . . . . . . . . . .  	Number	000F	
DIGIT  . . . . . . . . . . . . .  	L NEAR	01FB	TRANCODE
DINITHL  . . . . . . . . . . . .  	Number	001A	
DIRBUF . . . . . . . . . . . . .  	V BYTE 	0000	TRANSPACE	External
DIRPRI . . . . . . . . . . . . .  	Number	000F	
DIRSTRLEN  . . . . . . . . . . .  	Number	0040	
DIR_SEARCH_FIRST . . . . . . . .  	Number	0011	
DIR_SEARCH_NEXT  . . . . . . . .  	Number	0012	
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Symbols-8
                                                             

DISK_RESET . . . . . . . . . . .  	Number	000D	
DISP32BITS . . . . . . . . . . .  	L NEAR	01AF	TRANCODE	Global
DISPPATH . . . . . . . . . . . .  	L NEAR	03B2	TRANCODE
DISPSIZE . . . . . . . . . . . .  	L NEAR	01A7	TRANCODE	Global
DMEDHL . . . . . . . . . . . . .  	Number	000F	
DOS_MAJOR_VERSION  . . . . . . .  	Number	0002	
DOS_MINOR_VERSION  . . . . . . .  	Number	000B	
DPBSIZ . . . . . . . . . . . . .  	Number	005E	
DRDNDHL  . . . . . . . . . . . .  	Number	000E	
DRDWRHL  . . . . . . . . . . . .  	Number	0016	
DRVCHAR  . . . . . . . . . . . .  	Number	003A	
DSKSIZ . . . . . . . . . . . . .  	Number	000D	
DSTATHL  . . . . . . . . . . . .  	Number	000D	
DUP2_INVALID_HANDLE  . . . . . .  	Alias	 ERROR_INVALID_HANDLE		
DUP_INVALID_HANDLE . . . . . . .  	Alias	 ERROR_INVALID_HANDLE		
DUP_PDB  . . . . . . . . . . . .  	Number	0055	
DUP_TOO_MANY_OPEN_FILES  . . . .  	Alias	 ERROR_TOO_MANY_OPEN_FILES		

ECHOFLAG . . . . . . . . . . . .  	V BYTE 	0000	DATARES	External
ENTRYPOINT . . . . . . . . . . .  	Number	00C0	
ENVIRSEG . . . . . . . . . . . .  	V WORD 	0000	DATARES	External
ERROR_ACCESS_DENIED  . . . . . .  	Number	0005	
ERROR_ARENA_TRASHED  . . . . . .  	Number	0007	
ERROR_BAD_ENVIRONMENT  . . . . .  	Number	000A	
ERROR_BAD_FORMAT . . . . . . . .  	Number	000B	
ERROR_CURRENT_DIRECTORY  . . . .  	Number	0010	
ERROR_FILE_NOT_FOUND . . . . . .  	Number	0002	
ERROR_INVALID_ACCESS . . . . . .  	Number	000C	
ERROR_INVALID_BLOCK  . . . . . .  	Number	0009	
ERROR_INVALID_DATA . . . . . . .  	Number	000D	
ERROR_INVALID_DRIVE  . . . . . .  	Number	000F	
ERROR_INVALID_FUNCTION . . . . .  	Number	0001	
ERROR_INVALID_HANDLE . . . . . .  	Number	0006	
ERROR_NOT_ENOUGH_MEMORY  . . . .  	Number	0008	
ERROR_NOT_SAME_DEVICE  . . . . .  	Number	0011	
ERROR_NO_MORE_FILES  . . . . . .  	Number	0012	
ERROR_OUTPUT . . . . . . . . . .  	L NEAR	0490	TRANCODE	Global
ERROR_PATH_NOT_FOUND . . . . . .  	Number	0003	
ERROR_PRINT  . . . . . . . . . .  	L NEAR	0456	TRANCODE	Global
ERROR_TOO_MANY_OPEN_FILES  . . .  	Number	0004	
EXEC . . . . . . . . . . . . . .  	Number	004B	
EXEC_BAD_ENVIRONMENT . . . . . .  	Alias	 ERROR_BAD_ENVIRONMENT		
EXEC_BAD_FORMAT  . . . . . . . .  	Alias	 ERROR_BAD_FORMAT		
EXEC_FILE_NOT_FOUND  . . . . . .  	Alias	 ERROR_FILE_NOT_FOUND		
EXEC_FUNC_NO_EXECUTE . . . . . .  	Number	0001	
EXEC_FUNC_OVERLAY  . . . . . . .  	Number	0002	
EXEC_INVALID_FUNCTION  . . . . .  	Alias	 ERROR_INVALID_FUNCTION		
EXEC_NOT_ENOUGH_MEMORY . . . . .  	Alias	 ERROR_NOT_ENOUGH_MEMORY		
EXE_VALID_OLD_SIGNATURE  . . . .  	Number	4D5A	
EXE_VALID_SIGNATURE  . . . . . .  	Number	5A4D	
EXIT . . . . . . . . . . . . . .  	Number	004C	
EXIT_ABORT . . . . . . . . . . .  	Number	0000	
EXIT_CTRL_C  . . . . . . . . . .  	Number	0001	
EXIT_HARD_ERROR  . . . . . . . .  	Number	0002	
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Symbols-9
                                                             

EXIT_KEEP_PROCESS  . . . . . . .  	Number	0003	
EXIT_TERMINATE . . . . . . . . .  	Number	0000	
EXTNAME  . . . . . . . . . . . .  	L NEAR	03F4	TRANCODE

FALSE  . . . . . . . . . . . . .  	Number	0000	
FATPRI . . . . . . . . . . . . .  	Number	001E	
FCB  . . . . . . . . . . . . . .  	Number	005C	
FCB_CLOSE  . . . . . . . . . . .  	Number	0010	
FCB_CREATE . . . . . . . . . . .  	Number	0016	
FCB_DELETE . . . . . . . . . . .  	Number	0013	
FCB_OPEN . . . . . . . . . . . .  	Number	000F	
FCB_RANDOM_READ  . . . . . . . .  	Number	0021	
FCB_RANDOM_READ_BLOCK  . . . . .  	Number	0027	
FCB_RANDOM_WRITE . . . . . . . .  	Number	0022	
FCB_RANDOM_WRITE_BLOCK . . . . .  	Number	0028	
FCB_RENAME . . . . . . . . . . .  	Number	0017	
FCB_SEQ_READ . . . . . . . . . .  	Number	0014	
FCB_SEQ_WRITE  . . . . . . . . .  	Number	0015	
FCB_TO_ASCZ  . . . . . . . . . .  	L NEAR	03DA	TRANCODE	Global
FILDIRENT  . . . . . . . . . . .  	Number	0010	
FILETIMES_INVALID_FUNCTION . . .  	Alias	 ERROR_INVALID_FUNCTION		
FILETIMES_INVALID_HANDLE . . . .  	Alias	 ERROR_INVALID_HANDLE		
FILE_TIMES . . . . . . . . . . .  	Number	0057	
FILPERPROC . . . . . . . . . . .  	Number	0014	
FINDFIRST_FILE_NOT_FOUND . . . .  	Alias	 ERROR_FILE_NOT_FOUND		
FINDFIRST_NO_MORE_FILES  . . . .  	Alias	 ERROR_NO_MORE_FILES		
FINDNEXT_NO_MORE_FILES . . . . .  	Alias	 ERROR_NO_MORE_FILES		
FIND_FIRST . . . . . . . . . . .  	Number	004E	
FIND_NEXT  . . . . . . . . . . .  	Number	004F	
FIND_PATH  . . . . . . . . . . .  	L NEAR	0000	TRANCODE	External
FIND_PROMPT  . . . . . . . . . .  	L NEAR	0000	TRANCODE	External
FREEPRI  . . . . . . . . . . . .  	Number	0000	
FREE_TPA . . . . . . . . . . . .  	L NEAR	0000	TRANCODE	Global

GETBATBYT  . . . . . . . . . . .  	L NEAR	021A	TRANCODE	Global
GETEXTENDEDERROR . . . . . . . .  	Number	0059	
GETNUM . . . . . . . . . . . . .  	L NEAR	0400	TRANCODE	Global
GETPATH  . . . . . . . . . . . .  	L NEAR	0301	TRANCODE
GET_CURRENT_PDB  . . . . . . . .  	Number	0051	
GET_DATE . . . . . . . . . . . .  	Number	002A	
GET_DEFAULT_DPB  . . . . . . . .  	Number	001F	
GET_DEFAULT_DRIVE  . . . . . . .  	Number	0019	
GET_DMA  . . . . . . . . . . . .  	Number	002F	
GET_DPB  . . . . . . . . . . . .  	Number	0032	
GET_DRIVE_FREESPACE  . . . . . .  	Number	0036	
GET_FCB_FILE_LENGTH  . . . . . .  	Number	0023	
GET_FCB_POSITION . . . . . . . .  	Number	0024	
GET_INDOS_FLAG . . . . . . . . .  	Number	0034	
GET_INTERRUPT_VECTOR . . . . . .  	Number	0035	
GET_IN_VARS  . . . . . . . . . .  	Number	0052	
GET_TIME . . . . . . . . . . . .  	Number	002C	
GET_VERIFY_ON_WRITE  . . . . . .  	Number	0054	
GET_VERSION  . . . . . . . . . .  	Number	0030	
GOTNAME  . . . . . . . . . . . .  	L NEAR	03FC	TRANCODE
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Symbols-10
                                                             

GOTPATHS . . . . . . . . . . . .  	L NEAR	03AE	TRANCODE
GOTREIFIL  . . . . . . . . . . .  	L NEAR	00AC	TRANCODE
GOTREOFIL  . . . . . . . . . . .  	L NEAR	0081	TRANCODE
GOTRESTR . . . . . . . . . . . .  	L NEAR	00CE	TRANCODE
GOTSWITCH  . . . . . . . . . . .  	Number	8000	
GO_TO_ERROR  . . . . . . . . . .  	L NEAR	04AA	TRANCODE

HIGHMEM  . . . . . . . . . . . .  	Alias	 FALSE		

IBM  . . . . . . . . . . . . . .  	Alias	 IBMVER		
IBMJAPAN . . . . . . . . . . . .  	Alias	 FALSE		
IBMVER . . . . . . . . . . . . .  	Alias	 FALSE		
INDIG  . . . . . . . . . . . . .  	L NEAR	0413	TRANCODE
INTBASE  . . . . . . . . . . . .  	Number	0080	
INTERNATIONAL  . . . . . . . . .  	Number	0038	
INTERNATIONAL_INVALID_FUNCTION .  	Alias	 ERROR_INVALID_FUNCTION		
INTERNAT_BLOCK_MAX . . . . . . .  	Number	0020	
INTTAB . . . . . . . . . . . . .  	Number	0020	
INT_ABORT  . . . . . . . . . . .  	Alias	 INTTAB		
INT_COMMAND  . . . . . . . . . .  	Number	0021	
INT_CTRL_C . . . . . . . . . . .  	Number	0023	
INT_DISK_READ  . . . . . . . . .  	Number	0025	
INT_DISK_WRITE . . . . . . . . .  	Number	0026	
INT_FASTCON  . . . . . . . . . .  	Number	0029	
INT_FATAL_ABORT  . . . . . . . .  	Number	0024	
INT_KEEP_PROCESS . . . . . . . .  	Number	0027	
INT_SPOOLER  . . . . . . . . . .  	Number	0028	
INT_TERMINATE  . . . . . . . . .  	Number	0022	
IOCTL  . . . . . . . . . . . . .  	Number	0044	
IOCTL_INVALID_DATA . . . . . . .  	Alias	 ERROR_INVALID_DATA		
IOCTL_INVALID_FUNCTION . . . . .  	Alias	 ERROR_INVALID_FUNCTION		
IOCTL_INVALID_HANDLE . . . . . .  	Alias	 ERROR_INVALID_HANDLE		
ISCIN  . . . . . . . . . . . . .  	Number	0001	
ISCLOCK  . . . . . . . . . . . .  	Number	0008	
ISCOUT . . . . . . . . . . . . .  	Number	0002	
ISFATBYDEV . . . . . . . . . . .  	Number	2000	
ISIBM  . . . . . . . . . . . . .  	Number	0010	
ISNOPIPE . . . . . . . . . . . .  	L NEAR	0105	TRANCODE
ISNULL . . . . . . . . . . . . .  	Number	0004	

KANJI  . . . . . . . . . . . . .  	Alias	 FALSE		
KEEP_PROCESS . . . . . . . . . .  	Number	0031	

LBRPRI . . . . . . . . . . . . .  	Number	0002	
LBWPRI . . . . . . . . . . . . .  	Number	0004	
LINPERPAG  . . . . . . . . . . .  	Number	0017	
LOCKOPER . . . . . . . . . . . .  	Number	005C	
LSEEK  . . . . . . . . . . . . .  	Number	0042	
LSEEK_INVALID_FUNCTION . . . . .  	Alias	 ERROR_INVALID_FUNCTION		
LSEEK_INVALID_HANDLE . . . . . .  	Alias	 ERROR_INVALID_HANDLE		
LTPA . . . . . . . . . . . . . .  	V WORD 	0000	DATARES	External

MAINNAME . . . . . . . . . . . .  	L NEAR	03DD	TRANCODE
MI_INT . . . . . . . . . . . . .  	Number	00CD	
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Symbols-11
                                                             

MI_LONG_CALL . . . . . . . . . .  	Number	009A	
MI_LONG_JMP  . . . . . . . . . .  	Number	00EA	
MI_LONG_RET  . . . . . . . . . .  	Number	00CB	
MKDIR  . . . . . . . . . . . . .  	Number	0039	
MKDIR_ACCESS_DENIED  . . . . . .  	Alias	 ERROR_ACCESS_DENIED		
MKDIR_PATH_NOT_FOUND . . . . . .  	Alias	 ERROR_PATH_NOT_FOUND		
MOVE_NAME  . . . . . . . . . . .  	L NEAR	0000	TRANCODE	External
MSVER  . . . . . . . . . . . . .  	Alias	 TRUE		

NOAPPND  . . . . . . . . . . . .  	L NEAR	0071	TRANCODE
NOOUT  . . . . . . . . . . . . .  	L NEAR	0098	TRANCODE
NOPSTORE . . . . . . . . . . . .  	L NEAR	035D	TRANCODE
NORMPERLIN . . . . . . . . . . .  	Number	0001	
NOSETSING2 . . . . . . . . . . .  	L NEAR	0264	TRANCODE
NOSLASHT . . . . . . . . . . . .  	L NEAR	011D	TRANCODE
NOSPACE  . . . . . . . . . . . .  	V BYTE 	0000	TRANDATA	External
NOSUP  . . . . . . . . . . . . .  	L NEAR	042D	TRANCODE
NOTDELIM . . . . . . . . . . . .  	L NEAR	03A9	TRANCODE
NOTDOUBLESL  . . . . . . . . . .  	L NEAR	0176	TRANCODE
NOTTRAILCOL  . . . . . . . . . .  	L NEAR	00D8	TRANCODE
NO_ERROR_OCCURRED  . . . . . . .  	Text  0                                                              ?		
NULPATH  . . . . . . . . . . . .  	V BYTE 	0000	TRANDATA	External

OEM_C1 . . . . . . . . . . . . .  	Number	00F9	
OEM_C2 . . . . . . . . . . . . .  	Number	00FA	
OEM_C3 . . . . . . . . . . . . .  	Number	00FB	
OEM_C4 . . . . . . . . . . . . .  	Number	00FC	
OEM_C5 . . . . . . . . . . . . .  	Number	00FD	
OEM_C6 . . . . . . . . . . . . .  	Number	00FE	
OEM_C7 . . . . . . . . . . . . .  	Number	00FF	
OKRET  . . . . . . . . . . . . .  	L NEAR	0410	TRANCODE
OPEN . . . . . . . . . . . . . .  	Number	003D	
OPEN_ACCESS_DENIED . . . . . . .  	Alias	 ERROR_ACCESS_DENIED		
OPEN_FILE_NOT_FOUND  . . . . . .  	Alias	 ERROR_FILE_NOT_FOUND		
OPEN_FOR_BOTH  . . . . . . . . .  	Number	0002	
OPEN_FOR_READ  . . . . . . . . .  	Number	0000	
OPEN_FOR_WRITE . . . . . . . . .  	Number	0001	
OPEN_INVALID_ACCESS  . . . . . .  	Alias	 ERROR_INVALID_ACCESS		
OPEN_TOO_MANY_OPEN_FILES . . . .  	Alias	 ERROR_TOO_MANY_OPEN_FILES		
OUT  . . . . . . . . . . . . . .  	L NEAR	0431	TRANCODE	Global
OUT2 . . . . . . . . . . . . . .  	L NEAR	0420	TRANCODE	Global
OUTBYTE  . . . . . . . . . . . .  	L NEAR	01EC	TRANCODE	Global
OUTV . . . . . . . . . . . . . .  	L NEAR	02F1	TRANCODE
OUTWORD  . . . . . . . . . . . .  	L NEAR	01E5	TRANCODE
OUT_CHAR . . . . . . . . . . . .  	L NEAR	0439	TRANCODE

PARMBUF  . . . . . . . . . . . .  	V BYTE 	0000	DATARES	External
PARSE_FILE_DESCRIPTOR  . . . . .  	Number	0029	
PATH . . . . . . . . . . . . . .  	L NEAR	0380	TRANCODE	Global
PATH0  . . . . . . . . . . . . .  	L NEAR	03BF	TRANCODE
PATH1  . . . . . . . . . . . . .  	L NEAR	03C7	TRANCODE
PATHCHRCMP . . . . . . . . . . .  	L NEAR	0112	TRANCODE	Global
PATHCNT  . . . . . . . . . . . .  	V WORD 	0000	TRANSPACE	External
PATHCRUNCH . . . . . . . . . . .  	L NEAR	0120	TRANCODE	Global
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Symbols-12
                                                             

PATHDONE . . . . . . . . . . . .  	L NEAR	0352	TRANCODE
PATHDONEDEC  . . . . . . . . . .  	L NEAR	0351	TRANCODE
PATHPOS  . . . . . . . . . . . .  	V WORD 	0000	TRANSPACE	External
PATHSLP  . . . . . . . . . . . .  	L NEAR	0398	TRANCODE
PATHSW . . . . . . . . . . . . .  	V WORD 	0000	TRANSPACE	External
PAUSE  . . . . . . . . . . . . .  	L NEAR	0000	TRANCODE	External
PEELFAIL . . . . . . . . . . . .  	L NEAR	0174	TRANCODE
PGETARG  . . . . . . . . . . . .  	L NEAR	0366	TRANCODE
PIPEEMES . . . . . . . . . . . .  	V BYTE 	0000	TRANDATA	External
PIPEERRSYN . . . . . . . . . . .  	L NEAR	0000	TRANCODE	External
PIPEERRSYNJ5 . . . . . . . . . .  	L NEAR	00C9	TRANCODE
PIPEFLAG . . . . . . . . . . . .  	V BYTE 	0000	DATARES	External
PIPEPTR  . . . . . . . . . . . .  	V WORD 	0000	DATARES	External
PIPESETLP  . . . . . . . . . . .  	L NEAR	00FF	TRANCODE
PIPESTR  . . . . . . . . . . . .  	V BYTE 	0000	DATARES	External
PP0  . . . . . . . . . . . . . .  	L NEAR	0294	TRANCODE
PP1  . . . . . . . . . . . . . .  	L NEAR	029E	TRANCODE
PP2  . . . . . . . . . . . . . .  	L NEAR	02AF	TRANCODE
PP3  . . . . . . . . . . . . . .  	L NEAR	02BA	TRANCODE
PP4  . . . . . . . . . . . . . .  	L NEAR	02CB	TRANCODE
PP5  . . . . . . . . . . . . . .  	L NEAR	02D6	TRANCODE
PPP1 . . . . . . . . . . . . . .  	L NEAR	02AA	TRANCODE
PRESCAN  . . . . . . . . . . . .  	L NEAR	0033	TRANCODE	Global
PRESCANEND . . . . . . . . . . .  	L NEAR	00E9	TRANCODE
PRESCANLP  . . . . . . . . . . .  	L NEAR	004D	TRANCODE
PRINT  . . . . . . . . . . . . .  	L NEAR	0464	TRANCODE	Global
PRINT_B  . . . . . . . . . . . .  	L NEAR	02EF	TRANCODE	Global
PRINT_BACK . . . . . . . . . . .  	L NEAR	02D9	TRANCODE	Global
PRINT_DRIVE  . . . . . . . . . .  	L NEAR	0000	TRANCODE	External
PRINT_EQ . . . . . . . . . . . .  	L NEAR	02DF	TRANCODE	Global
PRINT_ESC  . . . . . . . . . . .  	L NEAR	02E3	TRANCODE	Global
PRINT_G  . . . . . . . . . . . .  	L NEAR	02E7	TRANCODE	Global
PRINT_L  . . . . . . . . . . . .  	L NEAR	02EB	TRANCODE	Global
PRINT_PATH . . . . . . . . . . .  	L NEAR	03B9	TRANCODE
PRINT_PROMPT . . . . . . . . . .  	L NEAR	0285	TRANCODE	Global
PROMPT_TABLE . . . . . . . . . .  	V BYTE 	0000	TRANDATA	External
PSCANOFF . . . . . . . . . . . .  	L NEAR	0374	TRANCODE
PSCANOFFD  . . . . . . . . . . .  	L NEAR	037E	TRANCODE
PSWITCH  . . . . . . . . . . . .  	Number	0002	

QLOOP  . . . . . . . . . . . . .  	L NEAR	0056	TRANCODE

RAW_CON_INPUT  . . . . . . . . .  	Number	0007	
RAW_CON_IO . . . . . . . . . . .  	Number	0006	
READ . . . . . . . . . . . . . .  	Number	003F	
READ_ACCESS_DENIED . . . . . . .  	Alias	 ERROR_ACCESS_DENIED		
READ_INVALID_HANDLE  . . . . . .  	Alias	 ERROR_INVALID_HANDLE		
RENAME . . . . . . . . . . . . .  	Number	0056	
RENAME_ACCESS_DENIED . . . . . .  	Alias	 ERROR_ACCESS_DENIED		
RENAME_FILE_NOT_FOUND  . . . . .  	Alias	 ERROR_FILE_NOT_FOUND		
RENAME_NOT_SAME_DEVICE . . . . .  	Alias	 ERROR_NOT_SAME_DEVICE		
RESSEG . . . . . . . . . . . . .  	V WORD 	0000	TRANSPACE	External
RET_C  . . . . . . . . . . . . .  	NEAR 	041C	TRANCODE
RET_L  . . . . . . . . . . . . .  	NEAR 	048F	TRANCODE
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Symbols-13
                                                             

RET_NZ . . . . . . . . . . . . .  	NEAR 	0240	TRANCODE
RET_Z  . . . . . . . . . . . . .  	NEAR 	036C	TRANCODE
RE_INSTR . . . . . . . . . . . .  	V BYTE 	0000	DATARES	External
RE_OUTSTR  . . . . . . . . . . .  	V BYTE 	0000	DATARES	External
RE_OUT_APP . . . . . . . . . . .  	V BYTE 	0000	DATARES	External
RMDIR  . . . . . . . . . . . . .  	Number	003A	
RMDIR_ACCESS_DENIED  . . . . . .  	Alias	 ERROR_ACCESS_DENIED		
RMDIR_CURRENT_DIRECTORY  . . . .  	Alias	 ERROR_CURRENT_DIRECTORY		
RMDIR_PATH_NOT_FOUND . . . . . .  	Alias	 ERROR_PATH_NOT_FOUND		
RPRI . . . . . . . . . . . . . .  	Number	0006	

SAVSIZ2  . . . . . . . . . . . .  	L NEAR	002F	TRANCODE
SAVUDIR  . . . . . . . . . . . .  	L NEAR	0000	TRANCODE	External
SCANOFF  . . . . . . . . . . . .  	L NEAR	026A	TRANCODE	Global
SCAN_DOUBLE_NULL . . . . . . . .  	L NEAR	0000	TRANCODE	External
SCASB2 . . . . . . . . . . . . .  	L NEAR	0000	TRANCODE	External
SERVERCALL . . . . . . . . . . .  	Number	005D	
SETBLOCK . . . . . . . . . . . .  	Number	004A	
SETBLOCK_ARENA_TRASHED . . . . .  	Alias	 ERROR_ARENA_TRASHED		
SETBLOCK_INVALID_BLOCK . . . . .  	Alias	 ERROR_INVALID_BLOCK		
SETBLOCK_INVALID_FUNCTION  . . .  	Alias	 ERROR_INVALID_FUNCTION		
SETBLOCK_NOT_ENOUGH_MEMORY . . .  	Alias	 ERROR_NOT_ENOUGH_MEMORY		
SETDPB . . . . . . . . . . . . .  	Number	0053	
SETPATH  . . . . . . . . . . . .  	L NEAR	02F4	TRANCODE	Global
SETREOUTSTR  . . . . . . . . . .  	L NEAR	0085	TRANCODE
SETREST1 . . . . . . . . . . . .  	L NEAR	0000	TRANCODE	External
SET_CTRL_C_TRAPPING  . . . . . .  	Number	0033	
SET_CURRENT_PDB  . . . . . . . .  	Number	0050	
SET_DATE . . . . . . . . . . . .  	Number	002B	
SET_DEFAULT_DRIVE  . . . . . . .  	Number	000E	
SET_DMA  . . . . . . . . . . . .  	Number	001A	
SET_INTERRUPT_VECTOR . . . . . .  	Number	0025	
SET_OEM_HANDLER  . . . . . . . .  	Number	00F8	
SET_TIME . . . . . . . . . . . .  	Number	002D	
SET_VERIFY_ON_WRITE  . . . . . .  	Number	002E	
SF_DEFAULT_NUMBER  . . . . . . .  	Number	0005	
SINGLECOM  . . . . . . . . . . .  	V WORD 	0000	DATARES	External
SKIPPATH . . . . . . . . . . . .  	L NEAR	0327	TRANCODE
SKIPSPC  . . . . . . . . . . . .  	L NEAR	03E3	TRANCODE
STBUI  . . . . . . . . . . . . .  	Number	0200	
STDAUX . . . . . . . . . . . . .  	Number	0003	
STDERR . . . . . . . . . . . . .  	Number	0002	
STDIN  . . . . . . . . . . . . .  	Number	0000	
STDON  . . . . . . . . . . . . .  	Number	0100	
STDOUT . . . . . . . . . . . . .  	Number	0001	
STDPRN . . . . . . . . . . . . .  	Number	0004	
STD_AUX_INPUT  . . . . . . . . .  	Number	0003	
STD_AUX_OUTPUT . . . . . . . . .  	Number	0004	
STD_CON_INPUT  . . . . . . . . .  	Number	0001	
STD_CON_INPUT_FLUSH  . . . . . .  	Number	000C	
STD_CON_INPUT_NO_ECHO  . . . . .  	Number	0008	
STD_CON_INPUT_STATUS . . . . . .  	Number	000B	
STD_CON_OUTPUT . . . . . . . . .  	Number	0002	
STD_CON_STRING_INPUT . . . . . .  	Number	000A	
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Symbols-14
                                                             

STD_CON_STRING_OUTPUT  . . . . .  	Number	0009	
STD_PRINTER_OUTPUT . . . . . . .  	Number	0005	
STECODE  . . . . . . . . . . . .  	Number	00FF	
STERR  . . . . . . . . . . . . .  	Number	8000	
STORE_CHAR . . . . . . . . . . .  	L NEAR	0000	TRANCODE	External
STRING_OUT . . . . . . . . . . .  	L NEAR	0470	TRANCODE
SWITCH . . . . . . . . . . . . .  	L NEAR	0000	TRANCODE	External
SWITCHAR . . . . . . . . . . . .  	V BYTE 	0000	TRANSPACE	External
SYM  . . . . . . . . . . . . . .  	Number	003E	

TESTPDELIM . . . . . . . . . . .  	L NEAR	0346	TRANCODE
TESTPMETA  . . . . . . . . . . .  	L NEAR	0334	TRANCODE
TESTPSTAR  . . . . . . . . . . .  	L NEAR	033D	TRANCODE
TPA  . . . . . . . . . . . . . .  	V WORD 	0000	TRANSPACE	External
TRUE . . . . . . . . . . . . . .  	Number	FFFF	
TRYCD  . . . . . . . . . . . . .  	L NEAR	0162	TRANCODE
TRYGREATER . . . . . . . . . . .  	L NEAR	0062	TRANCODE
TRYPEEL  . . . . . . . . . . . .  	L NEAR	0147	TRANCODE

UNLINK . . . . . . . . . . . . .  	Number	0041	
UNLINK_ACCESS_DENIED . . . . . .  	Alias	 ERROR_ACCESS_DENIED		
UNLINK_FILE_NOT_FOUND  . . . . .  	Alias	 ERROR_FILE_NOT_FOUND		
UPCONV . . . . . . . . . . . . .  	L NEAR	0000	TRANCODE	External
USERIDOPER . . . . . . . . . . .  	Number	005E	

VSWITCH  . . . . . . . . . . . .  	Number	0010	

WAIT . . . . . . . . . . . . . .  	Number	004D	
WIDEPERLIN . . . . . . . . . . .  	Number	0005	
WPRI . . . . . . . . . . . . . .  	Number	0008	
WRECODE  . . . . . . . . . . . .  	Number	0000	
WRITE  . . . . . . . . . . . . .  	Number	0040	
WRITE_ACCESS_DENIED  . . . . . .  	Alias	 ERROR_ACCESS_DENIED		
WRITE_INVALID_HANDLE . . . . . .  	Alias	 ERROR_INVALID_HANDLE		
WSWITCH  . . . . . . . . . . . .  	Number	0001	

XDUP . . . . . . . . . . . . . .  	Number	0045	
XDUP2  . . . . . . . . . . . . .  	Number	0046	

Z$PRINT  . . . . . . . . . . . .  	L NEAR	046C	TRANCODE
ZPRINT . . . . . . . . . . . . .  	L NEAR	0469	TRANCODE	Global

??0000 . . . . . . . . . . . . .  	L NEAR	000A	TRANCODE
??0001 . . . . . . . . . . . . .  	L NEAR	0032	TRANCODE
??0002 . . . . . . . . . . . . .  	L NEAR	0111	TRANCODE
??0003 . . . . . . . . . . . . .  	L NEAR	011B	TRANCODE
??0005 . . . . . . . . . . . . .  	L NEAR	011F	TRANCODE
??0006 . . . . . . . . . . . . .  	L NEAR	0146	TRANCODE
??0007 . . . . . . . . . . . . .  	L NEAR	0175	TRANCODE
??0008 . . . . . . . . . . . . .  	L NEAR	017F	TRANCODE
??0009 . . . . . . . . . . . . .  	L NEAR	0186	TRANCODE
??000B . . . . . . . . . . . . .  	L NEAR	0191	TRANCODE
??000D . . . . . . . . . . . . .  	L NEAR	01A6	TRANCODE
??000E . . . . . . . . . . . . .  	L NEAR	020E	TRANCODE
Microsoft (R) Macro Assembler  Version 4.00                 3/27/20 08:29:49

PART5 - COMMAND Transient routines.                         Symbols-15
                                                             

??000F . . . . . . . . . . . . .  	L NEAR	0219	TRANCODE
??0010 . . . . . . . . . . . . .  	L NEAR	0240	TRANCODE
??0012 . . . . . . . . . . . . .  	L NEAR	0269	TRANCODE
??0013 . . . . . . . . . . . . .  	L NEAR	0271	TRANCODE
??0014 . . . . . . . . . . . . .  	L NEAR	0274	TRANCODE
??0016 . . . . . . . . . . . . .  	L NEAR	0278	TRANCODE
??0018 . . . . . . . . . . . . .  	L NEAR	027C	TRANCODE
??001A . . . . . . . . . . . . .  	L NEAR	0280	TRANCODE
??001C . . . . . . . . . . . . .  	L NEAR	0284	TRANCODE
??001D . . . . . . . . . . . . .  	L NEAR	02D8	TRANCODE
??001E . . . . . . . . . . . . .  	L NEAR	0365	TRANCODE
??001F . . . . . . . . . . . . .  	L NEAR	036C	TRANCODE
??0021 . . . . . . . . . . . . .  	L NEAR	0373	TRANCODE
??0022 . . . . . . . . . . . . .  	L NEAR	037F	TRANCODE
??0023 . . . . . . . . . . . . .  	L NEAR	03B1	TRANCODE
??0024 . . . . . . . . . . . . .  	L NEAR	03B8	TRANCODE
??0025 . . . . . . . . . . . . .  	L NEAR	03FF	TRANCODE
??0026 . . . . . . . . . . . . .  	L NEAR	0403	TRANCODE
??0028 . . . . . . . . . . . . .  	L NEAR	0412	TRANCODE
??0029 . . . . . . . . . . . . .  	L NEAR	0417	TRANCODE
??002B . . . . . . . . . . . . .  	L NEAR	041C	TRANCODE
??002D . . . . . . . . . . . . .  	L NEAR	041F	TRANCODE
??002E . . . . . . . . . . . . .  	L NEAR	0430	TRANCODE
??002F . . . . . . . . . . . . .  	L NEAR	0438	TRANCODE
??0030 . . . . . . . . . . . . .  	L NEAR	0455	TRANCODE
??0031 . . . . . . . . . . . . .  	L NEAR	048F	TRANCODE


   2346 Source  Lines
   2783 Total   Lines
    757 Symbols

  13026 Bytes symbol space free

      0 Warning Errors
      0 Severe  Errors
